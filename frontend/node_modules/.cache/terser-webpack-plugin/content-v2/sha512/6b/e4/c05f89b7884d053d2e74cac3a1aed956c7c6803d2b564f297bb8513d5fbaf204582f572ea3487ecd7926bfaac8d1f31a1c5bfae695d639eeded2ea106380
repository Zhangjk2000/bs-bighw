{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7cb4ebc8\"],{\"278e\":function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return s})),i.d(e,\"b\",(function(){return a})),i.d(e,\"c\",(function(){return r}));var n=i(\"b775\");function s(t){return Object(n[\"a\"])({url:\"api/annotate_text/delete/\",method:\"DELETE\",data:{id:t}})}function a(t){return Object(n[\"a\"])({url:\"api/annotate_text/delete/\",method:\"DELETE\",data:{token:t}})}function r(t){return Object(n[\"a\"])({url:\"api/annotate_text/edit/\",method:\"POST\",data:{textInfo:t}})}},\"3f83\":function(t,e,i){\"use strict\";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"app-container\"},[i(\"div\",{staticClass:\"button-group\"},[i(\"div\",{staticClass:\"button-group-item\"},[i(\"el-upload\",{staticClass:\"upload-demo\",attrs:{name:\"file\",multiple:\"\",accept:\"text/plain\",headers:{\"annotate-system-token\":t.token},action:\"http://localhost:8000/api/annotate_text/upload/\",\"on-success\":t.handleSuccess,\"on-error\":t.handleError,\"show-file-list\":!1}},[i(\"el-button\",{attrs:{type:\"primary\"}},[t._v(\" 导入数据 \")])],1)],1),i(\"div\",[i(\"ui-marker\",{ref:\"aiPanel-editor\",staticClass:\"ai-observer\",attrs:{uniqueKey:t.uuid,ratio:16/9,readOnly:t.readOnly,imgUrl:t.currentImage}})],1),i(\"div\",{staticClass:\"button-group-item\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.exportData}},[t._v(\" 导出数据 \")])],1)]),i(\"div\",{staticClass:\"clear\"},[i(\"el-button\",{attrs:{type:\"danger\"},on:{click:t.removeAll}},[t._v(\" 清空 \")])],1),i(\"div\",{staticClass:\"search\"},[i(\"el-input\",{staticClass:\"input-with-select\",attrs:{placeholder:\"请搜索关键词\"},on:{input:t.search},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:\"keywords\"}},[i(\"el-select\",{attrs:{slot:\"prepend\"},slot:\"prepend\",model:{value:t.searchTarget,callback:function(e){t.searchTarget=e},expression:\"searchTarget\"}},[i(\"el-option\",{attrs:{label:\"描述\",value:\"description\"}}),i(\"el-option\",{attrs:{label:\"文本\",value:\"text\"}})],1),i(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},on:{click:t.search},slot:\"append\"})],1)],1),t._m(0),i(\"div\",[i(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],attrs:{data:t.filterList,\"element-loading-text\":\"Loading\",\"row-class-name\":t.tableRowClassName,border:\"\",fit:\"\"}},[i(\"el-table-column\",{attrs:{align:\"center\",label:\"序号\",width:\"50\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.$index+1)+\" \")]}}])}),i(\"el-table-column\",{attrs:{label:\"描述\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"p\",{staticClass:\"single-line\"},[t._v(\" \"+t._s(e.row.description)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{label:\"文本\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"p\",{staticClass:\"single-line\"},[t._v(\" \"+t._s(e.row.text)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{\"class-name\":\"status-col\",label:\"状态\",width:\"110\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-tag\",{attrs:{type:t._f(\"statusFilter\")(e.row.status)}},[t._v(\" \"+t._s(e.row.status)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{label:\"操作\",width:\"210\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(i){return t.goToAnnotate(e.$index)}}},[t._v(\" 标注 \")]),i(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v(\" 编辑 \")]),i(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(i){return t.handleDelete(e.$index)}}},[t._v(\" 删除 \")])]}}])})],1)],1),i(\"el-dialog\",{attrs:{visible:t.showEditForm,width:t.width},on:{\"update:visible\":function(e){t.showEditForm=e}}},[i(\"el-form\",{attrs:{\"label-position\":\"left\",\"label-width\":\"80px\",model:t.form}},[i(\"el-form-item\",{attrs:{label:\"描述\"}},[i(\"el-input\",{model:{value:t.form.description,callback:function(e){t.$set(t.form,\"description\",e)},expression:\"form.description\"}})],1),i(\"el-form-item\",{attrs:{label:\"文本\"}},[i(\"el-input\",{attrs:{type:\"textarea\",autosize:{minRows:3,maxRows:5},placeholder:\"请输入内容\"},model:{value:t.form.text,callback:function(e){t.$set(t.form,\"text\",e)},expression:\"form.text\"}})],1)],1),i(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.update()}}},[t._v(\" 更新 \")])],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"p\",[t._v(\"注意:您需要在\"),i(\"strong\",[t._v(\"标注之前\")]),t._v(\"设置好标签,在标注未完成时添加标签会\"),i(\"strong\",[t._v(\"清空标注数据\")])])])}],a=i(\"5530\"),r=(i(\"498a\"),i(\"4de4\"),i(\"d3b7\"),i(\"caad\"),i(\"2532\"),i(\"a4d3\"),i(\"e01a\"),i(\"159b\"),i(\"a434\"),i(\"278e\")),o=i(\"5f87\"),l=i(\"2f62\"),c=i(\"a253\"),d={name:\"imgAnnotate\",filters:{statusFilter:function(t){var e={\"已标注\":\"success\",\"未标注\":\"gray\"};return e[t]}},components:{\"ui-marker\":c[\"AIMarker\"]},data:function(){return{searchTarget:\"描述\",uuid:\"0da9130\",readOnly:!1,currentImage:\"frontend/assets/login.png\",keywords:\"\",filterList:[],list:[],listLoading:!0,showEditForm:!1,listEditIndex:0,handleItemId:0,form:{description:\"\",text:\"\"}}},computed:Object(a[\"a\"])({width:function(){return window.innerWidth<=400?\"80%\":\"30%\"},token:function(){return Object(o[\"a\"])()}},Object(l[\"b\"])([\"annotateTextList\"])),mounted:function(){this.list=this.filterList=this.annotateTextList,this.listLoading=!1},methods:{handleSuccess:function(t){this.$message.success(\"上传成功\"),this.$store.dispatch(\"user/setAnnotateTextList\",t.data),this.filterList=this.list=t.data},handleError:function(){this.$message.error(\"上传失败\")},exportData:function(){},removeAll:function(){var t=this;this.$confirm(\"确定要删除吗?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){Object(r[\"b\"])(t.token),t.$store.dispatch(\"user/setAnnotateTextList\",[]),t.list=[],t.filterList=[]}))},search:function(){var t=this,e=this.keywords.trim();\"描述\"==this.searchTarget?this.filterList=this.list.filter((function(t){return t.description.includes(e)})):this.filterList=this.list.filter((function(i){return i[t.searchTarget].includes(e)}))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?\"highlight-row\":\"\"},goToAnnotate:function(t){this.$store.dispatch(\"annotate/setAnnotateText\",this.filterList[t].text),this.$router.push(\"/entityAnnotate\")},handleEdit:function(t,e){this.showEditForm=!0,this.listEditIndex=t,this.form.description=e.description,this.form.text=e.text,this.handleItemId=e.id},update:function(){var t=this;this.filterList[this.listEditIndex].description=this.form.description,this.filterList[this.listEditIndex].text=this.form.text,Object(r[\"c\"])(this.filterList[this.listEditIndex]),this.list.forEach((function(e){e.id===t.handleItemId&&(e.description=t.form.description,e.text=t.form.text)})),this.showEditForm=!1},handleDelete:function(t){var e=this.filterList[t].id;Object(r[\"a\"])(e),this.filterList.splice(t,1);for(var i=0;i<this.list.length;i++)this.list[i].id==e&&(this.list.splice(i,1),this.$store.dispatch(\"user/setAnnotateTextList\",this.list))}}},u=d,f=(i(\"abc9\"),i(\"2877\")),h=Object(f[\"a\"])(u,n,s,!1,null,null,null);e[\"default\"]=h.exports},abc9:function(t,e,i){\"use strict\";i(\"d10d\")},d10d:function(t,e,i){}}]);","extractedComments":[]}