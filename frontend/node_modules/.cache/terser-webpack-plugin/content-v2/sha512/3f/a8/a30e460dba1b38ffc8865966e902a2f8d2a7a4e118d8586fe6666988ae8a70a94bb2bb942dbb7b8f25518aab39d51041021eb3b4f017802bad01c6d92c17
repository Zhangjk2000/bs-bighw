{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-38b439e2\"],{\"098d\":function(t,e,l){},1993:function(t,e,l){\"use strict\";l(\"d765\")},c344:function(t,e,l){\"use strict\";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",{staticClass:\"app-container\"},[l(\"el-table\",{ref:\"singleTable\",staticStyle:{width:\"100%\"},attrs:{data:t.labels,\"row-class-name\":t.tableRowClassName}},[l(\"el-table-column\",{attrs:{type:\"index\",width:\"50\",label:\"序号\"}}),l(\"el-table-column\",{attrs:{label:\"标签\",\"min-width\":\"200\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[l(\"span\",[t._v(\" \"+t._s(e.row.text))])]}}])}),l(\"el-table-column\",{attrs:{label:\"标签快捷键\",\"min-width\":\"200\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[l(\"span\",[t._v(\" \"+t._s(e.row.shortcut))])]}}])}),l(\"el-table-column\",{attrs:{label:\"标签颜色\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return l(\"span\",{},[l(\"el-color-picker\",{attrs:{\"show-alpha\":\"\",predefine:t.$store.state.errorAnalysis.colorArray},on:{change:function(l){return t.updateColor(e.row.color,e.row.id)}},model:{value:e.row.color,callback:function(l){t.$set(e.row,\"color\",l)},expression:\"scope.row.color\"}})],1)}}])}),l(\"el-table-column\",{attrs:{align:\"center\",width:\"350\",label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return l(\"span\",{},[l(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(l){return t.handleDelete(e.row.id,e.$index)}}},[t._v(\" 删除 \")]),l(\"el-button\",{attrs:{type:\"primary\",size:\"small\",icon:\"el-icon-edit\"},on:{click:function(l){return t.updateLabelInfo(e.row)}}},[t._v(\" 编辑 \")])],1)}}])})],1),l(\"el-dialog\",{attrs:{visible:t.showDialog,width:\"30%\",center:\"\"},on:{\"update:visible\":function(e){t.showDialog=e}}},[l(\"EditLabel\",{attrs:{\"is-add-label\":t.isAddLabel,\"label-info\":t.labelInfo},on:{closeDialog:t.closeDialog}})],1),l(\"div\",{staticClass:\"addLabelButton\"},[l(\"el-button\",{attrs:{type:\"primary\",size:\"small\"},on:{click:t.addLabel}},[t._v(\" 添加标签 \")])],1)],1)},o=[],n=l(\"5530\"),s=(l(\"a434\"),l(\"2f62\")),i=l(\"b775\");function r(t){return Object(i[\"a\"])({url:\"api/labels/add/\",method:\"POST\",data:t})}function c(){return Object(i[\"a\"])({url:\"api/labels/get/\"})}function u(t){return Object(i[\"a\"])({url:\"api/labels/update/\",method:\"POST\",data:t})}function d(t,e){return Object(i[\"a\"])({url:\"api/labels/updateColor/\",method:\"POST\",data:{id:t,color:e}})}function b(t){return Object(i[\"a\"])({url:\"api/labels/delete/\",method:\"POST\",data:{id:t}})}var f=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",{staticClass:\"form\"},[l(\"div\",[t._m(0),l(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.labelInfo.text,expression:\"labelInfo.text\"}],attrs:{type:\"text\"},domProps:{value:t.labelInfo.text},on:{input:function(e){e.target.composing||t.$set(t.labelInfo,\"text\",e.target.value)}}})]),l(\"div\",[t._m(1),l(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.labelInfo.shortcut,expression:\"labelInfo.shortcut\"}],attrs:{type:\"text\"},domProps:{value:t.labelInfo.shortcut},on:{input:function(e){e.target.composing||t.$set(t.labelInfo,\"shortcut\",e.target.value)}}})]),l(\"div\",[t._m(2),l(\"el-color-picker\",{attrs:{\"show-alpha\":\"\",predefine:t.$store.state.errorAnalysis.colorArray},model:{value:t.labelInfo.color,callback:function(e){t.$set(t.labelInfo,\"color\",e)},expression:\"labelInfo.color\"}})],1),l(\"div\",{staticClass:\"button-group\"},[l(\"el-button\",{attrs:{type:\"warning\"},on:{click:t.cancel}},[t._v(\" 取消 \")]),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.addOrUpdateLabel}},[t._v(\" 确定 \")])],1)])},p=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"strong\",[t._v(\"标签名:\")])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"strong\",[t._v(\"快捷键(输入一个字母或者数字,不输入代表不使用快捷键标注):\")])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"strong\",[t._v(\"标签颜色:\")])])}],h={props:{isAddLabel:{type:Boolean,default:!0},labelInfo:{type:Object,default:function(){return{text:\"\",color:\"#ff0000\",shortcut:\"\"}}}},methods:{cancel:function(){this.labelInfo.text=\"\",this.labelInfo.shortcut=\"\",this.$emit(\"closeDialog\")},addOrUpdateLabel:function(){this.isAddLabel?this.addLabel():this.updateLabel(),this.$emit(\"closeDialog\")},addLabel:function(){var t=this;r(this.labelInfo).then((function(e){t.$store.dispatch(\"annotate/setLabels\",e.data.labels)}))},updateLabel:function(){u(this.labelInfo)}}},m=h,v=(l(\"1993\"),l(\"2877\")),w=Object(v[\"a\"])(m,f,p,!1,null,\"e370f548\",null),g=w.exports,_={name:\"TableSetting\",components:{EditLabel:g},data:function(){return{showDialog:!1,isAddLabel:!0,labelInfo:{text:\"\",color:\"#ff0000\",shortcut:\"\"},editCurrent:-1,editValue:\"\",editShortcut:\"\"}},computed:Object(n[\"a\"])({},Object(s[\"b\"])([\"labels\"])),created:function(){var t=this;c().then((function(e){t.$store.dispatch(\"annotate/setLabels\",e.data.labels)}))},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?\"success-row\":\"\"},addLabel:function(){this.isAddLabel=!0,this.showDialog=!0},handleDelete:function(t,e){b(t),this.labels.splice(e,1)},updateColor:function(t,e){d(e,t)},updateLabelInfo:function(t){this.labelInfo=t,this.isAddLabel=!1,this.showDialog=!0},closeDialog:function(){this.showDialog=!1,this.labelInfo={text:\"\",color:\"#ff0000\",shortcut:\"\"}}}},I=_,y=(l(\"ec96\"),Object(v[\"a\"])(I,a,o,!1,null,null,null));e[\"default\"]=y.exports},d765:function(t,e,l){},ec96:function(t,e,l){\"use strict\";l(\"098d\")}}]);","extractedComments":[]}