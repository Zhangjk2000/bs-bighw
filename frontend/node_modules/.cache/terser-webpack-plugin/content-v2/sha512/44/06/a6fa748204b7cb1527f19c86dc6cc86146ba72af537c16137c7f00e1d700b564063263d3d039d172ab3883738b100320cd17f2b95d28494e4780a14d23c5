{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-92fac0dc\"],{\"0d04\":function(t,e,a){},\"72e9\":function(t,e,a){\"use strict\";a(\"0d04\")},ecac:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[t.user?a(\"div\",[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:8,xs:24}},[a(\"UserCard\",{attrs:{user:t.user}})],1),a(\"el-col\",{attrs:{span:16,xs:24}},[a(\"el-card\",[a(\"el-tabs\",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:\"activeTab\"}},[a(\"el-tab-pane\",{attrs:{label:\"账号信息\",name:\"account\"}},[a(\"Account\",{attrs:{user:t.user}})],1),a(\"el-tab-pane\",{attrs:{label:\"操作日志\",name:\"timeline\"}},[a(\"Timeline\")],1)],1)],1)],1)],1)],1):t._e()])},n=[],l=a(\"5530\"),i=(a(\"b0c0\"),a(\"2f62\")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{xs:24,sm:24,lg:24}},[a(\"el-card\",{staticClass:\"box-card\"},[a(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[a(\"span\",[t._v(\"个人信息\")])]),a(\"div\",[a(\"div\",{staticStyle:{\"text-align\":\"center\"}},[a(\"div\",{staticClass:\"el-upload\"},[a(\"el-upload\",{staticClass:\"avatar-uploader\",attrs:{headers:{\"annotate-system-token\":t.token},name:\"avatar\",action:\"http://localhost:8000/api/setAvatar/\",\"show-file-list\":!1,accept:\"image/*\",\"on-success\":t.handleSuccess,\"on-error\":t.handleError}},[a(\"img\",{staticClass:\"avatar\",attrs:{src:t.avatar,alt:\"\"}})])],1)]),a(\"ul\",{staticClass:\"user-info\"},[a(\"li\",[a(\"SvgIcon\",{attrs:{\"icon-class\":\"user\"}}),t._v(\" 用户昵称 \"),a(\"div\",{staticClass:\"user-right\"},[t._v(\" \"+t._s(t.user.name)+\" \")])],1),a(\"li\",[a(\"SvgIcon\",{attrs:{\"icon-class\":\"anq\"}}),t._v(\" 安全设置 \"),a(\"div\",{staticClass:\"user-right\"},[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v(\" 修改密码 \")]),a(\"el-dialog\",{attrs:{title:\"修改密码\",visible:t.dialogFormVisible},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[a(\"el-form\",{attrs:{model:t.pwdOptions}},[a(\"el-form-item\",{attrs:{label:\"旧密码\",\"label-width\":t.formLabelWidth}},[a(\"el-input\",{attrs:{placeholder:\"请输入旧密码\",autocomplete:\"off\"},model:{value:t.pwdOptions.oldPassword,callback:function(e){t.$set(t.pwdOptions,\"oldPassword\",e)},expression:\"pwdOptions.oldPassword\"}})],1),a(\"el-form-item\",{attrs:{label:\"新密码\",\"label-width\":t.formLabelWidth}},[a(\"el-input\",{attrs:{placeholder:\"请输入新密码\",autocomplete:\"off\"},model:{value:t.pwdOptions.newPassword,callback:function(e){t.$set(t.pwdOptions,\"newPassword\",e)},expression:\"pwdOptions.newPassword\"}})],1),a(\"el-form-item\",{attrs:{label:\"确认密码\",\"label-width\":t.formLabelWidth}},[a(\"el-input\",{attrs:{placeholder:\"请再次确认\",autocomplete:\"off\"},model:{value:t.pwdOptions.checkPassword,callback:function(e){t.$set(t.pwdOptions,\"checkPassword\",e)},expression:\"pwdOptions.checkPassword\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\" 取 消 \")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\" 确 定 \")])],1)],1)],1)],1)])])])],1)],1)},r=[],c=a(\"5f87\"),u={props:{user:{type:Object,default:function(){return{name:\"\"}}}},data:function(){return{dialogFormVisible:!1,pwdOptions:{oldPassword:\"\",newPassword:\"\",checkPassword:\"\"},formLabelWidth:\"80px\"}},computed:Object(l[\"a\"])({token:function(){return Object(c[\"a\"])()}},Object(i[\"b\"])([\"avatar\"])),methods:{handleSuccess:function(t){this.$store.dispatch(\"user/setAvatar\",t.data.avatar)},handleError:function(){this.$message.error(\"上传失败\")}}},d=u,m=(a(\"72e9\"),a(\"2877\")),p=Object(m[\"a\"])(d,o,r,!1,null,\"0d3eb94a\",null),f=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"block\"},[a(\"el-timeline\",t._l(t.timeline,(function(e,s){return a(\"el-timeline-item\",{key:s,attrs:{timestamp:e.timestamp,placement:\"top\"}},[a(\"el-card\",[a(\"h4\",[t._v(t._s(e.title))]),a(\"p\",[t._v(t._s(e.content))])])],1)})),1)],1)},h=[],v={data:function(){return{timeline:[{timestamp:\"2021/4/20\",title:\"标注活动\",content:\"Syngou committed 2021/4/20 20:46\"},{timestamp:\"2021/4/21\",title:\"标注活动\",content:\"Syngou committed 2021/4/21 20:46\"},{timestamp:\"2021/4/22\",title:\"登录\",content:\"Syngou committed 2021/4/22 20:46\"},{timestamp:\"2021/4/23\",title:\"注销登录状态\",content:\"Syngou committed 2021/4/23 20:46\"}]}}},w=v,g=Object(m[\"a\"])(w,b,h,!1,null,null,null),O=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"el-form\",[a(\"el-form-item\",{attrs:{label:\"Name\"}},[a(\"el-input\",{model:{value:t.user.name,callback:function(e){t.$set(t.user,\"name\",\"string\"===typeof e?e.trim():e)},expression:\"user.name\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.submit}},[t._v(\" 更新 \")])],1)],1)},k=[],x=a(\"c24f\"),y={props:{user:{type:Object,default:function(){return{name:\"\"}}}},methods:{submit:function(){var t=this;\"\"==this.user.name?this.$message.error(\"用户名不能为空\"):Object(x[\"e\"])(this.user).then((function(e){Object(c[\"c\"])(e.data.token),t.$store.dispatch(\"user/setName\",t.user.name),t.$message({message:\"用户信息更新成功\",type:\"success\",duration:5e3})}))}}},j=y,C=Object(m[\"a\"])(j,_,k,!1,null,null,null),P=C.exports,$={name:\"Profile\",components:{UserCard:f,Timeline:O,Account:P},data:function(){return{user:{},activeTab:\"account\"}},computed:Object(l[\"a\"])({},Object(i[\"b\"])([\"name\"])),created:function(){this.getUser()},methods:{getUser:function(){this.user={name:this.name}}}},S=$,E=Object(m[\"a\"])(S,s,n,!1,null,null,null);e[\"default\"]=E.exports}}]);","extractedComments":[]}