{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7920a417\"],{\"11e8\":function(t,e,i){\"use strict\";i(\"2792\")},2792:function(t,e,i){},a434:function(t,e,i){\"use strict\";var s=i(\"23e7\"),n=i(\"da84\"),o=i(\"23cb\"),a=i(\"5926\"),r=i(\"07fa\"),l=i(\"7b0b\"),c=i(\"65f0\"),d=i(\"8418\"),u=i(\"1dde\"),f=u(\"splice\"),h=n.TypeError,m=Math.max,p=Math.min,b=9007199254740991,g=\"Maximum allowed length exceeded\";s({target:\"Array\",proto:!0,forced:!f},{splice:function(t,e){var i,s,n,u,f,v,k=l(this),w=r(k),L=o(t,w),x=arguments.length;if(0===x?i=s=0:1===x?(i=0,s=w-L):(i=x-2,s=p(m(a(e),0),w-L)),w+i-s>b)throw h(g);for(n=c(k,s),u=0;u<s;u++)f=L+u,f in k&&d(n,u,k[f]);if(n.length=s,i<s){for(u=L;u<w-s;u++)f=u+s,v=u+i,f in k?k[v]=k[f]:delete k[v];for(u=w;u>w-s+i;u--)delete k[u-1]}else if(i>s)for(u=w-s;u>L;u--)f=u+s-1,v=u+i-1,f in k?k[v]=k[f]:delete k[v];for(u=0;u<i;u++)k[u+L]=arguments[u+2];return k.length=w-s+i,n}})},c09b:function(t,e,i){\"use strict\";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"app-container\"},[i(\"div\",{staticClass:\"button-group\"},[i(\"div\",{staticClass:\"button-group-item\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.taskCreate}},[t._v(\" 创建任务 \")])],1)]),i(\"div\",{staticClass:\"clear\"},[i(\"el-button\",{attrs:{type:\"danger\"},on:{click:t.removeAll}},[t._v(\" 清空 \")])],1),i(\"div\",{staticClass:\"search\"},[i(\"el-input\",{staticClass:\"input-with-select\",attrs:{placeholder:\"请搜索关键词\"},on:{input:t.search},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:\"keywords\"}},[i(\"el-select\",{attrs:{slot:\"prepend\"},slot:\"prepend\",model:{value:t.searchTarget,callback:function(e){t.searchTarget=e},expression:\"searchTarget\"}},[i(\"el-option\",{attrs:{label:\"描述\",value:\"description\"}}),i(\"el-option\",{attrs:{label:\"状态\",value:\"status\"}}),i(\"el-option\",{attrs:{label:\"任务\",value:\"name\"}})],1),i(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},on:{click:t.search},slot:\"append\"})],1)],1),i(\"div\",[i(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],attrs:{data:t.filterList,\"element-loading-text\":\"Loading\",\"row-class-name\":t.tableRowClassName,border:\"\",fit:\"\"}},[i(\"el-table-column\",{attrs:{align:\"center\",label:\"序号\",width:\"50\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.$index+1)+\" \")]}}])}),i(\"el-table-column\",{attrs:{label:\"描述\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"p\",{staticClass:\"single-line\"},[t._v(\" \"+t._s(e.row.description)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{label:\"任务名称\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"p\",{staticClass:\"single-line\"},[t._v(\" \"+t._s(e.row.name)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{\"class-name\":\"status-col\",label:\"状态\",width:\"110\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-tag\",{attrs:{type:t._f(\"statusFilter\")(e.row.status)}},[t._v(\" \"+t._s(e.row.status)+\" \")])]}}])}),i(\"el-table-column\",{attrs:{label:\"操作\",width:\"210\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(i){return t.receiveTask(e.$index)}}},[t._v(\" 领取 \")]),i(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v(\" 编辑 \")]),i(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(i){return t.handleDelete(e.$index)}}},[t._v(\" 删除 \")])]}}])})],1)],1),i(\"el-dialog\",{attrs:{visible:t.showTaskForm,width:t.width},on:{\"update:visible\":function(e){t.showTaskForm=e}}},[i(\"el-form\",{attrs:{\"label-position\":\"left\",\"label-width\":\"80px\",model:t.taskform}},[i(\"el-form-item\",{attrs:{label:\"任务名称\"}},[i(\"el-input\",{model:{value:t.taskform.name,callback:function(e){t.$set(t.taskform,\"name\",e)},expression:\"taskform.name\"}})],1),i(\"div\",[t._v(\"请选择组成任务的图片\")]),i(\"el-checkbox-group\",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:\"checkList\"}},t._l(t.imgList,(function(e,s){return i(\"el-checkbox\",{key:s,attrs:{label:e.img.split(\"/\").pop()}},[t._v(\" \"+t._s(e.img.split(\"/\").pop())+\" \"),i(\"div\",[i(\"img\",{staticClass:\"img\",staticStyle:{width:\"100px\",height:\"100px\"},attrs:{src:e.img,alt:\"\"},on:{click:t.selectImg}})])])})),1)],1),i(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSuccess}},[t._v(\" 创建 \")])],1)],1),i(\"el-dialog\",{attrs:{visible:t.showEditForm,width:t.width},on:{\"update:visible\":function(e){t.showEditForm=e}}},[i(\"el-form\",{attrs:{\"label-position\":\"left\",\"label-width\":\"80px\",model:t.form}},[i(\"el-form-item\",{attrs:{label:\"描述\"}},[i(\"el-input\",{model:{value:t.form.description,callback:function(e){t.$set(t.form,\"description\",e)},expression:\"form.description\"}})],1)],1),i(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.update()}}},[t._v(\" 更新 \")])],1)],1)],1)},n=[],o=i(\"5530\"),a=(i(\"b0c0\"),i(\"a4d3\"),i(\"e01a\"),i(\"498a\"),i(\"4de4\"),i(\"d3b7\"),i(\"caad\"),i(\"2532\"),i(\"159b\"),i(\"a434\"),i(\"278e\")),r=i(\"5f87\"),l=i(\"2f62\"),c={name:\"taskList\",filters:{statusFilter:function(t){var e={\"已领取\":\"success\",\"未领取\":\"gray\",\"已完成\":\"done\"};return e[t]}},data:function(){return{checkList:[],searchTarget:\"描述\",showTaskForm:!1,keywords:\"\",filterList:[],imgList:[],list:[],listLoading:!0,showEditForm:!1,listEditIndex:0,handleItemId:0,taskform:{name:\"\",status:\"未领取\",imgs:[],description:\"无\"},form:{description:\"\",text:\"\"}}},computed:Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])({width:function(){return window.innerWidth<=400?\"80%\":\"30%\"},token:function(){return Object(r[\"a\"])()}},Object(l[\"b\"])([\"taskList\"])),Object(l[\"b\"])([\"imgList\"])),Object(l[\"b\"])([\"receivetaskList\"])),mounted:function(){this.list=this.filterList=this.taskList,this.imgList=this.imgList,this.listLoading=!1},methods:{selectImg:function(){console.log(this.checkList)},taskCreate:function(){this.showTaskForm=!0},handleSuccess:function(){console.log(this.checkList),this.taskform.imgs=this.checkList,this.filterList.push(this.taskform),this.$message.success(\"任务创建成功\"),console.log(\"%s\",this.taskform.name),Object(a[\"d\"])({name:this.taskform.name,status:this.taskform.status,imgs:this.taskform.imgs,description:this.taskform.description}),this.showTaskForm=!1},handleError:function(){this.$message.error(\"上传失败\")},removeAll:function(){var t=this;this.$confirm(\"确定要删除吗?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){Object(a[\"removeAllAnnotateTextApi\"])(t.token),t.$store.dispatch(\"user/setTaskList\",[]),t.list=[],t.filterList=[]}))},search:function(){var t=this,e=this.keywords.trim();\"描述\"==this.searchTarget?this.filterList=this.list.filter((function(t){return t.description.includes(e)})):this.filterList=this.list.filter((function(i){return i[t.searchTarget].includes(e)}))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?\"highlight-row\":\"\"},receiveTask:function(t){var e=this;this.filterList[t].status=\"已领取\",this.$store.dispatch(\"user/addReceiveTaskList\",this.filterList[t]),Object(a[\"h\"])(this.filterList[t]).then((function(t){console.log(t.data[\"flag\"]),t.data[\"flag\"]&&e.$message.success(\"领取成功\")}))},handleEdit:function(t,e){this.showEditForm=!0,this.listEditIndex=t,this.taskform.description=e.description,this.taskform.name=e.name,this.handleItemId=e.id},update:function(){var t=this;this.filterList[this.listEditIndex].description=this.form.description,this.filterList[this.listEditIndex].text=this.form.text,Object(a[\"updateAnnotateTextInfoApi\"])(this.filterList[this.listEditIndex]),this.list.forEach((function(e){e.id===t.handleItemId&&(e.description=t.form.description,e.text=t.form.text)})),this.showEditForm=!1},handleDelete:function(t){var e=this.filterList[t].id;Object(a[\"deleteAnnotateTextApi\"])(e),this.filterList.splice(t,1);for(var i=0;i<this.list.length;i++)this.list[i].id==e&&(this.list.splice(i,1),this.$store.dispatch(\"user/setimgList\",this.list))}}},d=c,u=(i(\"11e8\"),i(\"2877\")),f=Object(u[\"a\"])(d,s,n,!1,null,null,null);e[\"default\"]=f.exports},e01a:function(t,e,i){\"use strict\";var s=i(\"23e7\"),n=i(\"83ab\"),o=i(\"da84\"),a=i(\"e330\"),r=i(\"1a2d\"),l=i(\"1626\"),c=i(\"3a9b\"),d=i(\"577e\"),u=i(\"9bf2\").f,f=i(\"e893\"),h=o.Symbol,m=h&&h.prototype;if(n&&l(h)&&(!(\"description\"in m)||void 0!==h().description)){var p={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=c(m,this)?new h(t):void 0===t?h():h(t);return\"\"===t&&(p[e]=!0),e};f(b,h),b.prototype=m,m.constructor=b;var g=\"Symbol(test)\"==String(h(\"test\")),v=a(m.toString),k=a(m.valueOf),w=/^Symbol\\((.*)\\)[^)]+$/,L=a(\"\".replace),x=a(\"\".slice);u(m,\"description\",{configurable:!0,get:function(){var t=k(this),e=v(t);if(r(p,t))return\"\";var i=g?x(e,7,-1):L(e,w,\"$1\");return\"\"===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:b})}}}]);","extractedComments":[]}