{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-649f168d\"],{\"11ea\":function(t,e,n){\"use strict\";n(\"acea\")},\"195f\":function(t,e,n){},\"21c1\":function(t,e,n){},8083:function(t,e,n){\"use strict\";n(\"195f\")},8110:function(t,e,n){\"use strict\";n(\"93f5\")},\"93f5\":function(t,e,n){},acea:function(t,e){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleNotFoundError: Module not found: Error: Can't resolve '@/assets/images/common/left.png' in 'F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\src\\\\views\\\\entityAnnotate\\\\components\\\\annotateContent'\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\webpack\\\\lib\\\\Compilation.js:925:10\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:401:22\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:130:21\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:224:22\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\neo-async\\\\async.js:2830:7\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\neo-async\\\\async.js:6877:13\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:214:25\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:213:14\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\UnsafeCachePlugin.js:44:7\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:27:1)\\n    at F:\\\\BS\\\\annotate-system-3\\\\frontend\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\DescriptionFilePlugin.js:67:43\")},b270:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"TopNavigation\"),n(\"AnnotateContent\"),n(\"div\",{staticClass:\"footer\"},[t._v(\" Copyright © Syngou \")])],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"topNavigation\"},[n(\"span\",{staticClass:\"title\"},[t._v(\"文本标注和处理系统\")]),n(\"a\",{on:{click:t.exportData}},[t._v(\"导出数据\")]),n(\"a\",{on:{click:t.saveTamporaryData}},[t._v(\"暂存数据\")]),t.avatar?n(\"div\",{staticClass:\"right-menu\"},[n(\"el-dropdown\",{staticClass:\"avatar-container\",attrs:{trigger:\"click\"}},[n(\"div\",{staticClass:\"avatar-wrapper\"},[n(\"img\",{staticClass:\"user-avatar\",attrs:{src:t.avatar,alt:\"用户头像\"}})]),n(\"el-dropdown-menu\",{staticClass:\"user-dropdown\",attrs:{slot:\"dropdown\"},slot:\"dropdown\"},[n(\"router-link\",{attrs:{to:\"/\"}},[n(\"el-dropdown-item\",[t._v(\" 主控台 \")])],1),n(\"router-link\",{attrs:{to:\"/labelsManage\"}},[n(\"el-dropdown-item\",[t._v(\" 标签管理 \")])],1),n(\"el-dropdown-item\",{attrs:{divided:\"\"},nativeOn:{click:function(e){return t.logout(e)}}},[n(\"span\",{staticStyle:{display:\"block\"}},[t._v(\"注销\")])])],1)],1)],1):n(\"router-link\",{staticStyle:{float:\"right\"},attrs:{to:\"/login\"}},[t._v(\" 登录 \")]),n(\"output-options\",{ref:\"outputOptions\"})],1)},s=[],r=n(\"1da1\"),l=n(\"5530\"),c=(n(\"96cf\"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"el-dialog\",{attrs:{title:\"输出选项\",width:\"fit-content\",visible:t.dialogVisible,modal:!1},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[n(\"el-form\",[n(\"el-form-item\",{attrs:{label:\"文件名\"}},[n(\"el-input\",{attrs:{placeholder:\"请输入文件名，默认为 output\"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:\"fileName\"}})],1),n(\"el-form-item\",{attrs:{label:\"后缀名\"}},[n(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.fileFormat,callback:function(e){t.fileFormat=e},expression:\"fileFormat\"}},t._l(t.options,(function(t){return n(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),n(\"div\",{staticClass:\"btn-group\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.outputFile}},[t._v(\" 确定 \")]),n(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(\" 取消 \")])],1)],1)],1)}),u=[],d=(n(\"d3b7\"),n(\"3ca3\"),n(\"ddb0\"),n(\"2b3d\"),n(\"9861\"),n(\"e9c4\"),n(\"99af\"),n(\"2f62\")),m={data:function(){return{dialogVisible:!1,options:[{value:\"jsonl\",label:\"jsonl\"},{value:\"json\",label:\"json\"},{value:\"txt\",label:\"txt\"}],fileName:\"output\",fileFormat:\"jsonl\"}},computed:Object(l[\"a\"])({},Object(d[\"b\"])([\"entityAnnotateData\"])),methods:{outputFile:function(){this.dialogVisible=!1;var t=window.URL.createObjectURL(new Blob([JSON.stringify({id:this.$store.state.annotate.essayId,text:this.$store.state.annotate.annotateText,annotations:this.entityAnnotateData})])),e=document.createElement(\"a\");e.href=t,e.setAttribute(\"download\",\"\".concat(this.fileName,\".\").concat(this.fileFormat)),document.body.appendChild(e),e.click()}}},p=m,f=(n(\"8110\"),n(\"2877\")),g=Object(f[\"a\"])(p,c,u,!1,null,\"dc15d72e\",null),h=g.exports,v={name:\"TopNavigation\",components:{OutputOptions:h},computed:Object(l[\"a\"])({},Object(d[\"b\"])([\"avatar\"])),methods:{logout:function(){var t=this;return Object(r[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch(\"user/logout\");case 2:case\"end\":return e.stop()}}),e)})))()},exportData:function(){this.$refs.outputOptions.dialogVisible=!0},saveTamporaryData:function(){this.$message.info(\"待开发\")}}},b=v,y=(n(\"8083\"),Object(f[\"a\"])(b,i,s,!1,null,\"61021732\",null)),w=y.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"el-form\",{attrs:{model:t.formInline}},[n(\"el-form-item\",{attrs:{label:\"数据集：\"}},[n(\"el-select\",{attrs:{placeholder:\"选择数据集\"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,\"region\",e)},expression:\"formInline.region\"}},t._l(t.dataList,(function(t){return n(\"el-option\",{attrs:{label:t.name,value:t.code}})})),1),n(\"el-button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"primary\"}},[t._v(\"选择\")])],1),n(\"el-form-item\",{attrs:{label:\"图片筛选：\"}},[n(\"el-radio-group\",{on:{change:t.handleChange},model:{value:t.formInline.radio,callback:function(e){t.$set(t.formInline,\"radio\",e)},expression:\"formInline.radio\"}},[n(\"el-radio-button\",{attrs:{label:\"全部\"}}),n(\"el-radio-button\",{attrs:{label:\"未标注\"}}),n(\"el-radio-button\",{attrs:{label:\"已标注\"}})],1)],1)],1),n(\"div\",{staticClass:\"pics\"},[n(\"div\",{staticClass:\"arrow arrow-left\",on:{click:function(e){return t.showMore(\"down\")}}}),n(\"div\",{staticClass:\"pic-container\"},[n(\"div\",{ref:\"picContainer\",staticClass:\"pic-box\"},t._l(t.pics,(function(e,o){return n(\"div\",{key:o,staticClass:\"pic\"},[n(\"div\",{staticClass:\"info\",style:{\"background-image\":\"url(\"+e.cropImage+\")\"},on:{click:function(n){return t.activePic(e.cropImage)}}})])})),0)]),n(\"div\",{staticClass:\"arrow arrow-right\",on:{click:function(e){return t.showMore(\"up\")}}})]),n(\"el-row\",{staticClass:\"tagList\",attrs:{gutter:10}},[n(\"el-col\",{attrs:{span:18}},[n(\"ui-marker\",{ref:\"aiPanel-editor\",staticClass:\"ai-observer\",attrs:{uniqueKey:t.uuid,ratio:16/9,imgUrl:t.currentInfo.currentBaseImage},on:{\"vmarker:onImageLoad\":t.onImageLoad}})],1),n(\"el-col\",{attrs:{span:6}},[n(\"div\",{staticClass:\"title\"},[t._v(\"标签\")]),t._l(t.tags,(function(e,o){return n(\"div\",{key:o,staticClass:\"tags\"},[n(\"el-tag\",{attrs:{size:\"small\"},on:{click:function(n){return t.setTag(e)}}},[t._v(\" \"+t._s(e.tagName)+\" \")]),n(\"i\",{staticClass:\"el-icon-delete\",on:{click:function(e){return t.delTag(o)}}})],1)})),n(\"el-row\",[n(\"el-button\",{staticClass:\"handleButton\",attrs:{type:\"success\"},on:{click:t.addTag}},[t._v(\" 添加标签 \")])],1),n(\"el-button\",{staticClass:\"handleButton\",attrs:{type:\"primary\"},on:{click:t.submitForm}},[t._v(\" 提交标注 \")])],2)],1),n(\"el-dialog\",{attrs:{width:\"30%\",title:\"添加标签\",visible:t.innerVisible,\"before-close\":t.beforeClose},on:{\"update:visible\":function(e){t.innerVisible=e}}},[n(\"el-form\",{ref:\"innerForm\",attrs:{model:t.innerForm,rules:t.tep_rules}},[n(\"el-form-item\",{attrs:{label:\"标签名称：\",prop:\"tagName\"}},[n(\"el-input\",{model:{value:t.innerForm.tagName,callback:function(e){t.$set(t.innerForm,\"tagName\",e)},expression:\"innerForm.tagName\"}})],1),n(\"el-form-item\",{attrs:{label:\"标签编码：\",prop:\"tag\"}},[n(\"el-input\",{model:{value:t.innerForm.tag,callback:function(e){t.$set(t.innerForm,\"tag\",e)},expression:\"innerForm.tag\"}})],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:t.close}},[t._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.createForm(\"innerForm\")}}},[t._v(\" 确 定 \")])],1)],1)],1)},_=[],k=(n(\"a434\"),n(\"b680\"),n(\"a253\")),I={name:\"stagePicPage\",components:{\"ui-marker\":k[\"AIMarker\"]},data:function(){return{formInline:{region:\"\",radio:\"全部\"},dataList:[{name:\"安全帽\",code:1},{name:\"火焰\",code:2}],uuid:\"0da9130\",currentInfo:{currentBaseImage:\"https://seopic.699pic.com/photo/50041/3365.jpg_wh1200.jpg\",rawW:0,rawH:0,currentW:0,currentH:0,checked:!1,data:[]},pics:[{cropImage:\"https://seopic.699pic.com/photo/50041/3365.jpg_wh1200.jpg\"},{cropImage:\"https://seopic.699pic.com/photo/50041/3365.jpg_wh1200.jpg\"},{cropImage:\"https://seopic.699pic.com/photo/50098/1015.jpg_wh1200.jpg\"},{cropImage:\"https://seopic.699pic.com/photo/50098/1015.jpg_wh1200.jpg\"},{cropImage:\"https://seopic.699pic.com/photo/50050/5027.jpg_wh1200.jpg\"},{cropImage:\"https://seopic.699pic.com/photo/50140/6207.jpg_wh1200.jpg\"}],active:0,picTotal:10,tags:[{tagName:\"小蜜蜂\",tag:\"0x0001\"},{tagName:\"汽车\",tag:\"0x0002\"}],allInfo:[],imageInfo:[],innerVisible:!1,innerForm:{tagName:\"\",tag:\"\"},tep_rules:{tagName:[{required:!0,message:\"请输入\",trigger:\"blur\"}],tag:[{required:!0,message:\"请输入\",trigger:\"blur\"}]}}},mounted:function(){},methods:{onImageLoad:function(t){console.log(t),this.imageInfo=t},setTag:function(t){this.$refs[\"aiPanel-editor\"].getMarker().setTag(t)},addTag:function(){this.innerVisible=!0,this.innerForm.tagName=\"\",this.innerForm.tag=\"\"},delTag:function(t){this.tags.splice(t,1)},close:function(){this.innerVisible=!1,this.$refs[\"innerForm\"].resetFields()},beforeClose:function(t){this.$refs[\"innerForm\"].resetFields(),t()},createForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){for(var n in e.tags){var o=e.tags[n];if(o.tagName===e.innerForm.tagName||o.tag===e.innerForm.tag)return void e.$message.warning(\"标签名或标签值已存在，请重新输入\")}e.tags.push({tagName:e.innerForm.tagName,tag:e.innerForm.tag}),e.innerVisible=!1}}))},submitForm:function(){var t=this.$refs[\"aiPanel-editor\"].getMarker().getData();this.allInfo=t,console.log(this.allInfo);var e={width:this.imageInfo.rawW,height:this.imageInfo.rawH},n=parseInt(this.allInfo[0].position.x.substring(0,this.allInfo[0].position.x.length-1))*e.width/100;console.log(n,\"左上\");var o=parseInt(this.allInfo[0].position.y.substring(0,this.allInfo[0].position.y.length-1))*e.height/100;console.log(o,\"右手上\");var a=parseInt(this.allInfo[0].position.x1.substring(0,this.allInfo[0].position.x1.length-1))*e.width/100;console.log(a,\"右上\");var i=parseInt(this.allInfo[0].position.y1.substring(0,this.allInfo[0].position.y1.length-1))*e.height/100;console.log(i,\"左上\"),console.log((a-n).toFixed(2),(i-o).toFixed(2),\"计算矩形宽高\")},showMore:function(t){var e=this.$refs.picContainer;this.active,this.pics.length;if(\"up\"==t){if(this.active++,this.active>=this.picTotal-3)return void(this.active=this.pics.length-3);if(this.pics.length-3==this.active&&this.pics.length<this.picTotal)return this.photoPageIndex++,void this.getPhotos()}else this.active--,this.active<0&&(this.active=0);e.style.transform=\"translateX(-\"+this.active/this.pics.length*100+\"%)\"},getPhotos:function(){var t=this;return this.$nextTick((function(){var e=t.$refs.picContainer;e&&(e.style.width=e.scrollWidth+\"px\",e.style.transform=\"translateX(-\"+t.active/t.pics.length*100+\"%)\")}))},activePic:function(t){this.currentInfo.currentBaseImage=t},handleChange:function(t){console.log(t)}}},j=I,C=(n(\"11ea\"),Object(f[\"a\"])(j,F,_,!1,null,\"194df602\",null)),x=C.exports,N={name:\"Annotate\",components:{TopNavigation:w,AnnotateContent:x},mounted:function(){this.isPC()},methods:{isPC:function(){for(var t=[\"Android\",\"iPhone\",\"Windows Phone\",\"iPad\",\"iPod\"],e=navigator.userAgent,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){this.$message.warning({message:\"手机是无法进行标注的哦,请使用电脑浏览器。\",duration:5e3,showClose:!0});break}}}},B=N,$=(n(\"b5fb\"),Object(f[\"a\"])(B,o,a,!1,null,\"260669d7\",null));e[\"default\"]=$.exports},b5fb:function(t,e,n){\"use strict\";n(\"21c1\")}}]);","extractedComments":[]}