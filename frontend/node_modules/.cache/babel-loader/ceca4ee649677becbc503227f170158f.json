{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\UserCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\UserCard.vue","mtime":1639627257320},{"path":"F:\\BS\\annotate-system-3\\frontend\\babel.config.js","mtime":1639627257111},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjpcXEJTXFxhbm5vdGF0ZS1zeXN0ZW0tM1xcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB1c2VyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6ICIiCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgcHdkT3B0aW9uczogewogICAgICAgIG9sZFBhc3N3b3JkOiAiIiwKICAgICAgICBuZXdQYXNzd29yZDogIiIsCiAgICAgICAgY2hlY2tQYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICI4MHB4IgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHRva2VuOiBmdW5jdGlvbiB0b2tlbigpIHsKICAgICAgcmV0dXJuIGdldFRva2VuKCk7CiAgICB9CiAgfSwgbWFwR2V0dGVycyhbImF2YXRhciJdKSksCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlci9zZXRBdmF0YXIiLCByZXNwb25zZS5kYXRhLmF2YXRhcik7CiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLHotKUiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["UserCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA,SAAA,QAAA,QAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA;AACA,eAAA;AACA,UAAA,IAAA,EAAA;AADA,SAAA;AAGA;AANA;AADA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,aAAA,EAAA;AAHA,OAFA;AAOA,MAAA,cAAA,EAAA;AAPA,KAAA;AASA,GArBA;AAsBA,EAAA,QAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,QAAA,EAAA;AACA;AAHA,KAIA,UAAA,CAAA,CAAA,QAAA,CAAA,CAJA,CAtBA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,QADA,EACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,MAAA;AACA;AANA;AA5BA,CAAA","sourcesContent":["<template>\r\n  <el-row :gutter=\"20\">\r\n    <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>个人信息</span>\r\n        </div>\r\n        <div>\r\n          <div style=\"text-align: center\">\r\n            <div class=\"el-upload\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                :headers=\"{ 'annotate-system-token': token }\"\r\n                name=\"avatar\"\r\n                action=\"http://localhost:8000/api/setAvatar/\"\r\n                :show-file-list=\"false\"\r\n                accept=\"image/*\"\r\n                :on-success=\"handleSuccess\"\r\n                :on-error=\"handleError\"\r\n              >\r\n                <img :src=\"avatar\" class=\"avatar\" alt=\"\" />\r\n              </el-upload>\r\n            </div>\r\n          </div>\r\n          <ul class=\"user-info\">\r\n            <li>\r\n              <SvgIcon icon-class=\"user\" /> 用户昵称\r\n              <div class=\"user-right\">\r\n                {{ user.name }}\r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <SvgIcon icon-class=\"anq\" /> 安全设置\r\n              <div class=\"user-right\">\r\n                <el-button type=\"text\" @click=\"dialogFormVisible = true\">\r\n                  修改密码\r\n                </el-button>\r\n\r\n                <el-dialog title=\"修改密码\" :visible.sync=\"dialogFormVisible\">\r\n                  <el-form :model=\"pwdOptions\">\r\n                    <el-form-item label=\"旧密码\" :label-width=\"formLabelWidth\">\r\n                      <el-input\r\n                        v-model=\"pwdOptions.oldPassword\"\r\n                        placeholder=\"请输入旧密码\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"新密码\" :label-width=\"formLabelWidth\">\r\n                      <el-input\r\n                        v-model=\"pwdOptions.newPassword\"\r\n                        placeholder=\"请输入新密码\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      label=\"确认密码\"\r\n                      :label-width=\"formLabelWidth\"\r\n                    >\r\n                      <el-input\r\n                        v-model=\"pwdOptions.checkPassword\"\r\n                        placeholder=\"请再次确认\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">\r\n                      取 消\r\n                    </el-button>\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      @click=\"dialogFormVisible = false\"\r\n                    >\r\n                      确 定\r\n                    </el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </el-card>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from \"@/utils/auth\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          name: \"\",\r\n        };\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      pwdOptions: {\r\n        oldPassword: \"\",\r\n        newPassword: \"\",\r\n        checkPassword: \"\",\r\n      },\r\n      formLabelWidth: \"80px\",\r\n    };\r\n  },\r\n  computed: {\r\n    token() {\r\n      return getToken();\r\n    },\r\n    ...mapGetters([\"avatar\"]),\r\n  },\r\n  methods: {\r\n    handleSuccess(response) {\r\n      this.$store.dispatch(\"user/setAvatar\", response.data.avatar);\r\n    },\r\n    handleError() {\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box-center {\r\n  margin: 0 auto;\r\n  display: table;\r\n}\r\n\r\n.text-muted {\r\n  color: #777;\r\n}\r\n\r\n.avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.user-info {\r\n  padding-left: 0;\r\n  list-style: none;\r\n\r\n  li {\r\n    border-bottom: 1px solid #f0f3f4;\r\n    padding: 11px 0;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .user-right {\r\n    float: right;\r\n\r\n    .dialog-footer {\r\n      position: relative;\r\n      left: 275px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/profile/components"}]}