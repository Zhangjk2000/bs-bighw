{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\annotateContent\\AnnotateContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\annotateContent\\AnnotateContent.vue","mtime":1639627257292},{"path":"F:\\BS\\annotate-system-3\\frontend\\babel.config.js","mtime":1639627257111},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjpcXEJTXFxhbm5vdGF0ZS1zeXN0ZW0tM1xcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBUcmFuc2xhdGVDYXJkIGZyb20gIi4vY29tcG9uZW50cy9UcmFuc2xhdGVDYXJkIjsKaW1wb3J0IHsgZW50aXR5QW5ub3RhdGVVdGlsLCByZWxhdGlvbkFubm90YXRlVXRpbCwgcmVsYXRpb25NYXRjaGluZ1V0aWwgfSBmcm9tICJAL3V0aWxzL2Fubm90YXRlVXRpbHMiOwppbXBvcnQgeyB0cmFuc2xhdGVBcGkgfSBmcm9tICJAL2FwaS9hbm5vdGF0ZURhdGEiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRXNzYXlzIiwKICBjb21wb25lbnRzOiB7CiAgICBUcmFuc2xhdGVDYXJkOiBUcmFuc2xhdGVDYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0Z1bmN0aW9uRGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIC8v5pi+56S65qCH5rOo5a+56K+d5qGGCiAgICAgIHNlbGVjdFRleHQ6ICIiLAogICAgICAvLyDpgInkuK3mlofmnKwKICAgICAgc2hvd1RyYW5zbGF0ZUNhcmQ6IGZhbHNlLAogICAgICAvL+aYvuekuue/u+ivkeWNoeeJhwogICAgICB0cmFuc2xhdGVSZXN1bHQ6IHt9LAogICAgICAvL+e/u+ivkee7k+aenAogICAgICBmbGFnOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w5LiK5LiA5qyh6YCJ5oup55qE5piv5a6e5L2T5qCH5rOo6L+Y5piv5YWz57O75qCH5rOoCiAgICAgIHBvc2l0aW9uMTogW1tdLCBbXV0sCiAgICAgIC8vIOWFs+ezu+agh+azqOeahOesrOS4gOauteaWh+acrOS9jee9rgogICAgICBwb3NpdGlvbjI6IFtbXSwgW11dLAogICAgICAvLyDlhbPns7vmoIfms6jnmoTnrKzkuozmrrXmlofmnKzkvY3nva4KICAgICAgaWQ6IFswLCAwXSAvLyDpgInkuK3mlofmnKznmoRpZOWAvAoKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImxhYmVscyJdKSksCiAgLy8g6ZSu55uY5qCH5rOo77yM5Yid5aeL5YyW5Y2z5byA5aeL55uR5ZCsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYW5ub3RhdGVCeVNob3J0Y3V0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiAg5Zyo6byg5qCH5L2N572u5by55Ye65a+56K+d5qGGDQogICAgICogQHBhcmFtIHtudW1iZXJ9IFggIHjovbTlnZDmoIcNCiAgICAgKiBAcGFyYW0ge251bWJlcn0gWSAgeei9tOWdkOaghw0KICAgICAqLwogICAgc2V0Qm94UG9zaXRpb246IGZ1bmN0aW9uIHNldEJveFBvc2l0aW9uKFgsIFkpIHsKICAgICAgdGhpcy4kcmVmcy5zaG93RGlhbG9nLnN0eWxlLmxlZnQgPSAiIi5jb25jYXQoWCAtIDEwMCwgInB4Iik7CiAgICAgIHRoaXMuJHJlZnMuc2hvd0RpYWxvZy5zdHlsZS50b3AgPSAiIi5jb25jYXQoWSArIDIwLCAicHgiKTsKICAgICAgdGhpcy4kcmVmcy5zaG93RnVuY3Rpb25EaWFsb2cuc3R5bGUubGVmdCA9ICIiLmNvbmNhdChYIC0gMTAwLCAicHgiKTsKICAgICAgdGhpcy4kcmVmcy5zaG93RnVuY3Rpb25EaWFsb2cuc3R5bGUudG9wID0gIiIuY29uY2F0KFkgKyAyMCwgInB4Iik7CiAgICAgIHRoaXMuJHJlZnMudHJhbnNsYXRlQ2FyZC5zdHlsZS5sZWZ0ID0gIiIuY29uY2F0KFggKyAxMCwgInB4Iik7CiAgICAgIHRoaXMuJHJlZnMudHJhbnNsYXRlQ2FyZC5zdHlsZS50b3AgPSAiIi5jb25jYXQoWSArIDEwLCAicHgiKTsKICAgIH0sCgogICAgLyoqDQogICAgICogIOiOt+WPlumAieS4reaWh+acrO+8jOm8oOagh+S9jee9ruWKoOS4iua7muWKqOi3neemuw0KICAgICAqIEBwYXJhbSBlICDmtY/op4jlmajkuovku7YNCiAgICAgKi8KICAgIGdldFNlbGVjdGlvbjogZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKGUpIHsKICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpICE9PSAiIikgewogICAgICAgIGlmICghdGhpcy5mbGFnKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdFRleHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTsKICAgICAgICAgIHRoaXMuc2V0Qm94UG9zaXRpb24oZS5wYWdlWCwgZS5wYWdlWSk7IC8vdGhpcy4kcmVmcy5zaG93RGlhbG9nLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgLy90aGlzLnNob3dEaWFsb2cgPSB0cnVlCgogICAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNob3dGdW5jdGlvbkRpYWxvZyA9IHRydWU7IC8vIHRoaXMucG9zaXRpb24xWzBdID0gZS5wYWdlWDsKICAgICAgICAgIC8vIHRoaXMucG9zaXRpb24xWzFdID0gZS5wYWdlWTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g6Iul5LiK5qyh6YCJ5oup55qE5piv5YWz57O75qCH5rOo77yM5YiZ55u05o6l5qCH5rOo5bm25Lyg5Zue5Lik5qyh5qCH5rOo5paH5pys55qE5L2N572uCiAgICAgICAgICB0aGlzLnBvc2l0aW9uMlswXSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLmdldENsaWVudFJlY3RzKClbIjAiXS54OwogICAgICAgICAgdGhpcy5wb3NpdGlvbjJbMV0gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpWyIwIl0ueTsgLy8gdGhpcy5wb3NpdGlvbjJbMF0gPSBlLnBhZ2VYOwogICAgICAgICAgLy8gdGhpcy5wb3NpdGlvbjJbMV0gPSBlLnBhZ2VZOwoKICAgICAgICAgIHJlbGF0aW9uQW5ub3RhdGVVdGlsKHRoaXMuaWQsIDEpOwogICAgICAgICAgdGhpcy5pZFsxXSsrOwogICAgICAgICAgcmVsYXRpb25NYXRjaGluZ1V0aWwodGhpcy5wb3NpdGlvbjEsIHRoaXMucG9zaXRpb24yLCB0aGlzLmlkKTsKICAgICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSAvL+eCueWHu+epuueZveWkhOWPlua2iOagh+azqAogICAgICBlbHNlIHsKICAgICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsgLy8g5b6X5Yqg5LiL6Z2i6L+Z5Y+l5omN6IO96K6p5qCH5rOo5a+56K+d5qGG5raI5aSx77yM5LiN5riF5qWa5Li65LuA5LmICgogICAgICAgIHRoaXMuJHJlZnMuc2hvd0RpYWxvZy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRoaXMuc2hvd0Z1bmN0aW9uRGlhbG9nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogIOmAieaLqeWunuS9k+agh+azqA0KICAgICAqLwogICAgY2hvb3NlRW50aXR5QW5ub3RhdGU6IGZ1bmN0aW9uIGNob29zZUVudGl0eUFubm90YXRlKCkgewogICAgICB0aGlzLnNob3dGdW5jdGlvbkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnNob3dEaWFsb2cuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqICDpgInmi6nlhbPns7vmoIfms6gNCiAgICAgKi8KICAgIGNob29zZVJlbGF0aW9uQW5ub3RhdGU6IGZ1bmN0aW9uIGNob29zZVJlbGF0aW9uQW5ub3RhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0Z1bmN0aW9uRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMucG9zaXRpb24xWzBdID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuZ2V0Q2xpZW50UmVjdHMoKVsiMCJdLng7CiAgICAgIHRoaXMucG9zaXRpb24xWzFdID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuZ2V0Q2xpZW50UmVjdHMoKVsiMCJdLnk7IC8vY29uc29sZS5sb2cod2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuZ2V0Q2xpZW50UmVjdHMoKSk7CgogICAgICByZWxhdGlvbkFubm90YXRlVXRpbCh0aGlzLmlkLCAwKTsKICAgICAgdGhpcy5pZFswXSsrOyAvLyDkuIvkuIDmrKHpgInkuK3liKvnmoTmlofmnKzml7bnm7TmjqXmoIfms6jvvIzkuI3nlKjot7Plh7rlip/og73pgInmi6nmoYYKCiAgICAgIHRoaXMuZmxhZyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmxhZyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqICDpgInmi6nlsZ7mgKfmoIfms6gNCiAgICAgKi8KICAgIGNob29zZUF0dHJpYnV0ZUFubm90YXRlOiBmdW5jdGlvbiBjaG9vc2VBdHRyaWJ1dGVBbm5vdGF0ZSgpIHsvLyBUT0RPCiAgICB9LAoKICAgIC8qKg0KICAgICAqICDmoIfms6jmlofmnKwNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgIOe7mWJ1dHRvbuagh+etvueahGlk77yM55So5LqO5Yig6Zmk5pe25p+l5om+DQogICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IOagh+azqOminOiJsue0ouW8lQ0KICAgICAqLwogICAgYW5ub3RhdGVUZXh0OiBmdW5jdGlvbiBhbm5vdGF0ZVRleHQoaWQsIGluZGV4KSB7CiAgICAgIC8vIOmakOiXj+WvueivneahhgogICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsgLy9jb25zb2xlLmxvZyh0aGlzLnNob3dEaWFsb2cpOwoKICAgICAgZW50aXR5QW5ub3RhdGVVdGlsKGlkLCBpbmRleCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqICDlv6vmjbfplK7moIfms6gNCiAgICAgKi8KICAgIGFubm90YXRlQnlTaG9ydGN1dDogZnVuY3Rpb24gYW5ub3RhdGVCeVNob3J0Y3V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHZhciBrZXkgPSAkZXZlbnQua2V5OwogICAgICAgIHZhciBpZCA9IF90aGlzLiRzdG9yZS5zdGF0ZS5hbm5vdGF0ZS5pZDsKICAgICAgICBfdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7CiAgICAgICAgdmFyIGogPSAwOwoKICAgICAgICBmb3IgKDsgaiA8IF90aGlzLmxhYmVscy5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKGtleSA9PT0gX3RoaXMubGFiZWxzW2pdLnNob3J0Y3V0KSB7CiAgICAgICAgICAgIGVudGl0eUFubm90YXRlVXRpbChqICsgIi0iICsgaWQsIGopOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9LAoKICAgIC8qKg0KICAgICAqICDnv7vor5ENCiAgICAgKi8KICAgIHRyYW5zbGF0ZVRleHQ6IGZ1bmN0aW9uIHRyYW5zbGF0ZVRleHQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7CiAgICAgIHZhciB0ZXh0ID0gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7IC8vIOiwg+eUqOe/u+ivkWFwaQoKICAgICAgdHJhbnNsYXRlQXBpKHRleHQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi50cmFuc2xhdGVSZXN1bHQgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczIuc2hvd1RyYW5zbGF0ZUNhcmQgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AnnotateContent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"paper\">\r\n    <!-- TODO 有空把这里的bootstrap换成原生css -->\r\n    <link\r\n      rel=\"stylesheet\"\r\n      href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css\"\r\n      integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\"\r\n      crossorigin=\"anonymous\"\r\n    />\r\n    <!-- 选择实体标注还是关系标注 -->\r\n    <div\r\n      v-show=\"showFunctionDialog\"\r\n      ref=\"showFunctionDialog\"\r\n      class=\"optionDialog\"\r\n    >\r\n      <button @click=\"chooseEntityAnnotate\">\r\n        实体标注\r\n      </button>\r\n      <button @click=\"chooseRelationAnnotate\">\r\n        关系标注\r\n      </button>\r\n      <button @click=\"chooseAttributeAnnotate\">\r\n        属性标注\r\n      </button>\r\n    </div>\r\n\r\n    <!-- 标注选项对话框 -->\r\n    <div v-show=\"showDialog\" ref=\"showDialog\" class=\"optionDialog\">\r\n      <button\r\n        v-for=\"(info, index) in labels\"\r\n        :key=\"index\"\r\n        :style=\"{ backgroundColor: info.color }\"\r\n        @click=\"annotateText(index + '-' + $store.state.annotate.id, index)\"\r\n      >\r\n        {{ info.text }}({{ info.shortcut }})\r\n      </button>\r\n      <!-- 翻译按钮 -->\r\n      <button @click=\"translateText\">\r\n        翻译\r\n      </button>\r\n    </div>\r\n\r\n    <!-- 翻译结果显示 -->\r\n    <div v-show=\"showTranslateCard\" ref=\"translateCard\" class=\"translate-card\">\r\n      <i\r\n        class=\"el-message__closeBtn el-icon-close delete-button\"\r\n        @click=\"showTranslateCard = false\"\r\n      />\r\n      <TranslateCard :data=\"translateResult\" />\r\n    </div>\r\n\r\n    <!-- 定义一个容器 -->\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <!-- 侧边栏 -->\r\n        <div class=\"col-md-2\">\r\n          <div class=\"panel panel-default\">\r\n            <div class=\"panel-heading\">\r\n              <div class=\"head\">\r\n                现有标签\r\n              </div>\r\n              <hr />\r\n              <div class=\"tip\">\r\n                (选中文本后单击任一标签即可标注)\r\n              </div>\r\n            </div>\r\n            <div class=\"panel-body\">\r\n              <div class=\"side\">\r\n                <button\r\n                  v-for=\"(info, index) in labels\"\r\n                  :key=\"index\"\r\n                  :style=\"{ backgroundColor: info.color }\"\r\n                  @click=\"\r\n                    annotateText(index + '-' + $store.state.annotate.id, index)\r\n                  \"\r\n                >\r\n                  {{ info.text }}({{ info.shortcut }})\r\n                </button>\r\n                <br /><br />\r\n                <router-link to=\"/labelsManage\">\r\n                  添加新标签\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 论文排版 -->\r\n        <div class=\"col-md-10\">\r\n          <div class=\"panel panel-default\">\r\n            <div class=\"panel-heading\">\r\n              <div class=\"head\">\r\n                文章如下\r\n              </div>\r\n            </div>\r\n            <div id=\"panel-body\" class=\"panel-body\">\r\n              <pre\r\n                id=\"annotateContent\"\r\n                class=\"annotate-content\"\r\n                :style=\"'font-size:' + $store.state.annotate.fontSize + 'px'\"\r\n                @mouseup=\"getSelection($event)\"\r\n                v-text=\"$store.state.annotate.annotateText\"\r\n              ></pre>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TranslateCard from \"./components/TranslateCard\";\r\n\r\nimport {\r\n  entityAnnotateUtil,\r\n  relationAnnotateUtil,\r\n  relationMatchingUtil,\r\n} from \"@/utils/annotateUtils\";\r\nimport { translateApi } from \"@/api/annotateData\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Essays\",\r\n  components: {\r\n    TranslateCard,\r\n  },\r\n  data() {\r\n    return {\r\n      showFunctionDialog: false,\r\n      showDialog: false, //显示标注对话框\r\n      selectText: \"\", // 选中文本\r\n      showTranslateCard: false, //显示翻译卡片\r\n      translateResult: {}, //翻译结果\r\n      flag: false, // 标记上一次选择的是实体标注还是关系标注\r\n      position1: [[], []], // 关系标注的第一段文本位置\r\n      position2: [[], []], // 关系标注的第二段文本位置\r\n      id: [0, 0], // 选中文本的id值\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"labels\"]), // 标签\r\n  },\r\n  // 键盘标注，初始化即开始监听\r\n  created() {\r\n    this.annotateByShortcut();\r\n  },\r\n  methods: {\r\n    /**\r\n     *  在鼠标位置弹出对话框\r\n     * @param {number} X  x轴坐标\r\n     * @param {number} Y  y轴坐标\r\n     */\r\n    setBoxPosition(X, Y) {\r\n      this.$refs.showDialog.style.left = `${X - 100}px`;\r\n      this.$refs.showDialog.style.top = `${Y + 20}px`;\r\n      this.$refs.showFunctionDialog.style.left = `${X - 100}px`;\r\n      this.$refs.showFunctionDialog.style.top = `${Y + 20}px`;\r\n      this.$refs.translateCard.style.left = `${X + 10}px`;\r\n      this.$refs.translateCard.style.top = `${Y + 10}px`;\r\n    },\r\n\r\n    /**\r\n     *  获取选中文本，鼠标位置加上滚动距离\r\n     * @param e  浏览器事件\r\n     */\r\n\r\n    getSelection(e) {\r\n      if (window.getSelection().toString() !== \"\") {\r\n        if (!this.flag) {\r\n          this.selectText = window.getSelection().toString();\r\n          this.setBoxPosition(e.pageX, e.pageY);\r\n\r\n          //this.$refs.showDialog.style.display = \"block\";\r\n          //this.showDialog = true\r\n          this.showDialog = false;\r\n          this.showFunctionDialog = true;\r\n          // this.position1[0] = e.pageX;\r\n          // this.position1[1] = e.pageY;\r\n        } else {\r\n          // 若上次选择的是关系标注，则直接标注并传回两次标注文本的位置\r\n          this.position2[0] = window\r\n            .getSelection()\r\n            .getRangeAt(0)\r\n            .getClientRects()[\"0\"].x;\r\n          this.position2[1] = window\r\n            .getSelection()\r\n            .getRangeAt(0)\r\n            .getClientRects()[\"0\"].y;\r\n          // this.position2[0] = e.pageX;\r\n          // this.position2[1] = e.pageY;\r\n          relationAnnotateUtil(this.id, 1);\r\n          this.id[1]++;\r\n          relationMatchingUtil(this.position1, this.position2, this.id);\r\n          this.flag = false;\r\n        }\r\n      }\r\n      //点击空白处取消标注\r\n      else {\r\n        this.showDialog = false;\r\n        // 得加下面这句才能让标注对话框消失，不清楚为什么\r\n        this.$refs.showDialog.style.display = \"none\";\r\n\r\n        this.showFunctionDialog = false;\r\n      }\r\n    },\r\n\r\n    /**\r\n     *  选择实体标注\r\n     */\r\n    chooseEntityAnnotate() {\r\n      this.showFunctionDialog = false;\r\n      this.$refs.showDialog.style.display = \"block\";\r\n      this.showDialog = true;\r\n    },\r\n\r\n    /**\r\n     *  选择关系标注\r\n     */\r\n    chooseRelationAnnotate() {\r\n      this.showFunctionDialog = false;\r\n      this.position1[0] = window.getSelection().getRangeAt(0).getClientRects()[\r\n        \"0\"\r\n      ].x;\r\n      this.position1[1] = window.getSelection().getRangeAt(0).getClientRects()[\r\n        \"0\"\r\n      ].y;\r\n      //console.log(window.getSelection().getRangeAt(0).getClientRects());\r\n      relationAnnotateUtil(this.id, 0);\r\n      this.id[0]++;\r\n\r\n      // 下一次选中别的文本时直接标注，不用跳出功能选择框\r\n      this.flag = true;\r\n      console.log(this.flag);\r\n    },\r\n\r\n    /**\r\n     *  选择属性标注\r\n     */\r\n    chooseAttributeAnnotate() {\r\n      // TODO\r\n    },\r\n\r\n    /**\r\n     *  标注文本\r\n     * @param {string} id  给button标签的id，用于删除时查找\r\n     * @param {number} index 标注颜色索引\r\n     */\r\n    annotateText(id, index) {\r\n      // 隐藏对话框\r\n      this.showDialog = false;\r\n      //console.log(this.showDialog);\r\n      entityAnnotateUtil(id, index);\r\n    },\r\n\r\n    /**\r\n     *  快捷键标注\r\n     */\r\n    annotateByShortcut() {\r\n      document.onkeydown = ($event) => {\r\n        let key = $event.key;\r\n        let id = this.$store.state.annotate.id;\r\n        this.showDialog = false;\r\n        let j = 0;\r\n        for (; j < this.labels.length; j++) {\r\n          if (key === this.labels[j].shortcut) {\r\n            entityAnnotateUtil(j + \"-\" + id, j);\r\n            break;\r\n          }\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     *  翻译\r\n     */\r\n    translateText() {\r\n      this.showDialog = false;\r\n      let text = window.getSelection().toString();\r\n      // 调用翻译api\r\n      translateApi(text).then((res) => {\r\n        this.translateResult = res.data;\r\n        this.showTranslateCard = true;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/* 因为是有固定定位，所以要有margin-top */\r\n#paper {\r\n  margin-top: 48.8px;\r\n\r\n  /* 标注时对话框的样式 */\r\n  .optionDialog {\r\n    position: absolute;\r\n    border-radius: 10px;\r\n    background-color: rgb(147, 121, 121);\r\n    padding: 5px;\r\n    z-index: 10; /* 设置堆叠次序，防止被覆盖 */\r\n\r\n    button {\r\n      border: 1px solid black;\r\n      margin-left: 10px;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      outline: none;\r\n      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2),\r\n        0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    }\r\n  }\r\n\r\n  .head {\r\n    font-size: 15px;\r\n    color: white;\r\n  }\r\n\r\n  .tip {\r\n    font-size: 10px;\r\n    color: white;\r\n  }\r\n\r\n  /* 面板框样式 */\r\n  .panel > .panel-heading {\r\n    background-image: none;\r\n    background-color: #7b8ca3;\r\n    color: white;\r\n    font-weight: 400;\r\n  }\r\n\r\n  /* 侧边栏样式 */\r\n  .side {\r\n    button {\r\n      border: 1px solid black;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      outline: none;\r\n      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2),\r\n        0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    }\r\n  }\r\n\r\n  /* 文本样式 */\r\n  .annotate-content {\r\n    margin-top: 50px;\r\n    overflow: auto;\r\n    flex: auto;\r\n    min-height: 1000px;\r\n    padding: 0 5% 0 5%;\r\n    white-space: pre-line;\r\n    word-break: break-all;\r\n    line-height: 25px;\r\n    font-family: Microsoft Yahei, serif;\r\n  }\r\n  // 翻译卡片\r\n  .translate-card {\r\n    width: 200px;\r\n    position: absolute;\r\n    z-index: 1;\r\n\r\n    .delete-button {\r\n      top: 10px;\r\n      right: -40px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/entityAnnotate/components/annotateContent"}]}