{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\navigator\\components\\OutputOptions.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\navigator\\components\\OutputOptions.vue","mtime":1639627257298},{"path":"F:\\BS\\annotate-system-3\\frontend\\babel.config.js","mtime":1639627257111},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjpcXEJTXFxhbm5vdGF0ZS1zeXN0ZW0tM1xcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgb3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogImpzb25sIiwKICAgICAgICBsYWJlbDogImpzb25sIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJqc29uIiwKICAgICAgICBsYWJlbDogImpzb24iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogInR4dCIsCiAgICAgICAgbGFiZWw6ICJ0eHQiCiAgICAgIH1dLAogICAgICBmaWxlTmFtZTogIm91dHB1dCIsCiAgICAgIGZpbGVGb3JtYXQ6ICJqc29ubCIKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImVudGl0eUFubm90YXRlRGF0YSJdKSksCiAgbWV0aG9kczogewogICAgb3V0cHV0RmlsZTogZnVuY3Rpb24gb3V0cHV0RmlsZSgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoewogICAgICAgIGlkOiB0aGlzLiRzdG9yZS5zdGF0ZS5hbm5vdGF0ZS5lc3NheUlkLAogICAgICAgIHRleHQ6IHRoaXMuJHN0b3JlLnN0YXRlLmFubm90YXRlLmFubm90YXRlVGV4dCwKICAgICAgICBhbm5vdGF0aW9uczogdGhpcy5lbnRpdHlBbm5vdGF0ZURhdGEKICAgICAgfSldKSk7CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsICIiLmNvbmNhdCh0aGlzLmZpbGVOYW1lLCAiLiIpLmNvbmNhdCh0aGlzLmZpbGVGb3JtYXQpKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgbGluay5jbGljaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["OutputOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,CAFA;AAgBA,MAAA,QAAA,EAAA,QAhBA;AAiBA,MAAA,UAAA,EAAA;AAjBA,KAAA;AAmBA,GArBA;AAsBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,oBAAA,CAAA,CADA,CAtBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CACA,IAAA,IAAA,CAAA,CACA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OADA;AAEA,QAAA,IAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,YAFA;AAGA,QAAA,WAAA,EAAA,KAAA;AAHA,OAAA,CADA,CAAA,CADA,CAAA;AASA,UAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,MAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,MAAA,IAAA,CAAA,YAAA,CAAA,UAAA,YAAA,KAAA,QAAA,cAAA,KAAA,UAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,KAAA;AACA;AAjBA;AAzBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"输出选项\"\r\n      width=\"fit-content\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :modal=\"false\"\r\n    >\r\n      <el-form>\r\n        <!-- 文件名 -->\r\n        <el-form-item label=\"文件名\">\r\n          <el-input\r\n            v-model=\"fileName\"\r\n            placeholder=\"请输入文件名，默认为 output\"\r\n          />\r\n        </el-form-item>\r\n        <!-- 后缀名 -->\r\n        <el-form-item label=\"后缀名\">\r\n          <el-select v-model=\"fileFormat\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 按钮 -->\r\n      <div class=\"btn-group\">\r\n        <el-button type=\"primary\" @click=\"outputFile\">\r\n          确定\r\n        </el-button>\r\n        <el-button type=\"danger\" @click=\"dialogVisible = false\">\r\n          取消\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      options: [\r\n        {\r\n          value: \"jsonl\",\r\n          label: \"jsonl\",\r\n        },\r\n        {\r\n          value: \"json\",\r\n          label: \"json\",\r\n        },\r\n        {\r\n          value: \"txt\",\r\n          label: \"txt\",\r\n        },\r\n      ],\r\n      fileName: \"output\",\r\n      fileFormat: \"jsonl\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"entityAnnotateData\"]),\r\n  },\r\n  methods: {\r\n    outputFile() {\r\n      this.dialogVisible = false;\r\n      const url = window.URL.createObjectURL(\r\n        new Blob([\r\n          JSON.stringify({\r\n            id: this.$store.state.annotate.essayId,\r\n            text: this.$store.state.annotate.annotateText,\r\n            annotations: this.entityAnnotateData,\r\n          }),\r\n        ])\r\n      );\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\"download\", `${this.fileName}.${this.fileFormat}`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn-group {\r\n  margin-top: 20px;\r\n  display: block;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/entityAnnotate/components/navigator/components"}]}