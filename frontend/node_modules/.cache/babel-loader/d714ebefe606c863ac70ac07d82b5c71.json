{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\BS\\annotate-system-3\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\BS\\annotate-system-3\\frontend\\src\\store\\modules\\user.js","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\store\\modules\\user.js","mtime":1640331083040},{"path":"F:\\BS\\annotate-system-3\\frontend\\babel.config.js","mtime":1639627257111},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1639628021347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCB7IGdldEluZm9BcGksIGxvZ2luQXBpLCBsb2dvdXRBcGksIHJlZ2lzdGVyQXBpIH0gZnJvbSAiQC9hcGkvdXNlciI7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyBnZXRUb2tlbiwgcmVtb3ZlVG9rZW4sIHNldFRva2VuIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIG5hbWU6ICIiLAogIGF2YXRhcjogIiIsCiAgcm9sZXM6IFtdLAogIC8vIOaJgOacieeahOagh+azqOaWh+acrAogIGFubm90YXRlVGV4dExpc3Q6IFtdLAogIHRhc2tMaXN0OiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIC8vdG9rZW4KICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICAvL+eUqOaIt+WQjQogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgfSwKICAvL+WktOWDjwogIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgc3RhdGUuYXZhdGFyID0gYXZhdGFyICE9PSBudWxsICYmIGF2YXRhciAhPT0gdm9pZCAwID8gYXZhdGFyIDogImh0dHBzOi8vdy53YWxsaGF2ZW4uY2MvZnVsbC9uci93YWxsaGF2ZW4tbnJqZ3k3LmpwZyI7CiAgfSwKICAvL+inkuiJsu+8jOeUqOS6juadg+mJtAogIFNFVF9ST0xFUzogZnVuY3Rpb24gU0VUX1JPTEVTKHN0YXRlLCByb2xlcykgewogICAgc3RhdGUucm9sZXMgPSByb2xlczsKICB9LAoKICAvKioKICAgKiDorr7nva7miYDmnInnmoTmoIfms6jmlofmnKwKICAgKi8KICBTRVRfQU5OT1RBVEVfVEVYVF9MSVNUOiBmdW5jdGlvbiBTRVRfQU5OT1RBVEVfVEVYVF9MSVNUKHN0YXRlLCBhbm5vdGF0ZVRleHRMaXN0KSB7CiAgICAvLyBUT0RPIOaaguaXtui/meagt+a3u+WKoCznrYnmlbDmja7lupPlrozlloTlkI7lho3mm7TmlLkKICAgIHN0YXRlLmFubm90YXRlVGV4dExpc3QgPSBhbm5vdGF0ZVRleHRMaXN0OwogIH0sCiAgU0VUX1RBU0tfTElTVDogZnVuY3Rpb24gU0VUX1RBU0tfTElTVChzdGF0ZSwgdGFza0xpc3QpIHsKICAgIC8vIFRPRE8g5pqC5pe26L+Z5qC35re75YqgLOetieaVsOaNruW6k+WujOWWhOWQjuWGjeabtOaUuQogICAgc3RhdGUudGFza0xpc3QgPSB0YXNrTGlzdDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8vIOeUqOaIt+eZu+W9lQogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgdmFyIHVzZXJuYW1lID0gdXNlckluZm8udXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSB1c2VySW5mby5wYXNzd29yZDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGxvZ2luQXBpKHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb21taXQoIlNFVF9UT0tFTiIsIGRhdGEudG9rZW4pOwogICAgICAgIHNldFRva2VuKGRhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOazqOWGjAogIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICB2YXIgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkLAogICAgICAgIGVtYWlsID0gdXNlckluZm8uZW1haWw7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICByZWdpc3RlckFwaSh7CiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnRyaW0oKSwKICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgICAgZW1haWw6IGVtYWlsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbW1pdCgiU0VUX1RPS0VOIiwgZGF0YS50b2tlbik7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbyhfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGdldEluZm9BcGkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICByZWplY3QoIumqjOivgeWksei0pe+8jOivt+WGjeasoeeZu+W9leOAgiIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJvbGVzID0gZGF0YS5yb2xlcywKICAgICAgICAgICAgbmFtZSA9IGRhdGEubmFtZSwKICAgICAgICAgICAgYXZhdGFyID0gZGF0YS5hdmF0YXIsCiAgICAgICAgICAgIGFubm90YXRlX2ltZ19saXN0ID0gZGF0YS5hbm5vdGF0ZV9pbWdfbGlzdCwKICAgICAgICAgICAgdGFza19saXN0ID0gZGF0YS50YXNrX2xpc3Q7IC8vIOinkuiJsuW/hemhu+aYr+mdnuepuuaVsOe7hAoKICAgICAgICBpZiAoIXJvbGVzIHx8IHJvbGVzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICByZWplY3QoImdldEluZm/vvJrop5LoibLlv4XpobvmmK/pnZ7nqbrmlbDnu4TvvIEiKTsKICAgICAgICB9CgogICAgICAgIGNvbW1pdCgiU0VUX1JPTEVTIiwgcm9sZXMpOwogICAgICAgIGNvbW1pdCgiU0VUX05BTUUiLCBuYW1lKTsKICAgICAgICBjb21taXQoIlNFVF9BVkFUQVIiLCBhdmF0YXIpOwogICAgICAgIGNvbW1pdCgiU0VUX1RBU0tfTElTVCIsIHRhc2tfbGlzdCk7CiAgICAgICAgY29tbWl0KCJTRVRfQU5OT1RBVEVfVEVYVF9MSVNUIiwgYW5ub3RhdGVfaW1nX2xpc3QpOwogICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyDnlKjmiLfms6jplIAKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgbG9nb3V0QXBpKHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb21taXQoIlNFVF9UT0tFTiIsICIiKTsKICAgICAgICBjb21taXQoIlNFVF9ST0xFUyIsIFtdKTsKICAgICAgICBjb21taXQoIlNFVF9BVkFUQVIiLCAiIik7CiAgICAgICAgcmVtb3ZlVG9rZW4oKTsKICAgICAgICByZXNldFJvdXRlcigpOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOWIoOmZpOS7pOeJjAogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCJTRVRfVE9LRU4iLCAiIik7CiAgICAgIGNvbW1pdCgiU0VUX1JPTEVTIiwgW10pOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIOiuvue9ruWktOWDjwogIHNldEF2YXRhcjogZnVuY3Rpb24gc2V0QXZhdGFyKF9yZWY2LCBhdmF0YXIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICBjb21taXQoIlNFVF9BVkFUQVIiLCBhdmF0YXIpOwogIH0sCiAgLy8g6K6+572u55So5oi35ZCNCiAgc2V0TmFtZTogZnVuY3Rpb24gc2V0TmFtZShfcmVmNywgbmFtZSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgIGNvbW1pdCgiU0VUX05BTUUiLCBuYW1lKTsKICB9LAogIHNldEFubm90YXRlVGV4dExpc3Q6IGZ1bmN0aW9uIHNldEFubm90YXRlVGV4dExpc3QoX3JlZjgsIHRleHRMaXN0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgY29tbWl0KCJTRVRfQU5OT1RBVEVfVEVYVF9MSVNUIiwgdGV4dExpc3QpOwogIH0sCiAgc2V0VGFza0xpc3Q6IGZ1bmN0aW9uIHNldFRhc2tMaXN0KF9yZWY5LCB0YXNrTGlzdCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgIGNvbW1pdCgiU0VUX1RBU0tfTElTVCIsIHRhc2tMaXN0KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["F:/BS/annotate-system-3/frontend/src/store/modules/user.js"],"names":["getInfoApi","loginApi","logoutApi","registerApi","resetRouter","getToken","removeToken","setToken","state","token","name","avatar","roles","annotateTextList","taskList","mutations","SET_TOKEN","SET_NAME","SET_AVATAR","SET_ROLES","SET_ANNOTATE_TEXT_LIST","SET_TASK_LIST","actions","login","userInfo","commit","username","password","Promise","resolve","reject","trim","then","response","data","catch","error","register","email","getInfo","annotate_img_list","task_list","length","logout","resetToken","setAvatar","setName","setAnnotateTextList","textList","setTaskList","namespaced"],"mappings":"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","sourcesContent":["import {getInfoApi, loginApi, logoutApi, registerApi} from \"@/api/user\";\nimport {resetRouter} from \"@/router\";\nimport {getToken, removeToken, setToken} from \"@/utils/auth\";\n\nconst state = {\n  token: getToken(),\n  name: \"\",\n  avatar: \"\",\n  roles: [],\n  // 所有的标注文本\n  annotateTextList: [],\n  taskList: []\n};\n\nconst mutations = {\n  //token\n  SET_TOKEN: (state, token) => {\n    state.token = token;\n  },\n  //用户名\n  SET_NAME: (state, name) => {\n    state.name = name;\n  },\n  //头像\n  SET_AVATAR: (state, avatar) => {\n    state.avatar =\n      avatar ?? \"https://w.wallhaven.cc/full/nr/wallhaven-nrjgy7.jpg\";\n  },\n  //角色，用于权鉴\n  SET_ROLES: (state, roles) => {\n    state.roles = roles;\n  },\n  /**\n   * 设置所有的标注文本\n   */\n  SET_ANNOTATE_TEXT_LIST: (state, annotateTextList) => {\n    // TODO 暂时这样添加,等数据库完善后再更改\n\n    state.annotateTextList = annotateTextList;\n  },\n  SET_TASK_LIST: (state, taskList) => {\n    // TODO 暂时这样添加,等数据库完善后再更改\n\n    state.taskList = taskList;\n  },\n\n\n};\n\nconst actions = {\n  // 用户登录\n  login({commit}, userInfo) {\n    const {username, password} = userInfo;\n    return new Promise((resolve, reject) => {\n      loginApi({username: username.trim(), password: password})\n        .then((response) => {\n          const {data} = response;\n          commit(\"SET_TOKEN\", data.token);\n          setToken(data.token);\n\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n  // 注册\n  register({commit}, userInfo) {\n    const {username, password, email} = userInfo;\n    return new Promise((resolve, reject) => {\n      registerApi({username: username.trim(), password: password, email: email})\n        .then((response) => {\n          const {data} = response;\n          commit(\"SET_TOKEN\", data.token);\n          setToken(data.token);\n\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n\n  // 获取用户信息\n  getInfo({commit}) {\n    return new Promise((resolve, reject) => {\n      getInfoApi()\n        .then((response) => {\n          const {data} = response;\n\n          if (!data) {\n            reject(\"验证失败，请再次登录。\");\n          }\n\n          const {roles, name, avatar, annotate_img_list, task_list} = data;\n\n          // 角色必须是非空数组\n          if (!roles || roles.length <= 0) {\n            reject(\"getInfo：角色必须是非空数组！\");\n          }\n\n          commit(\"SET_ROLES\", roles);\n          commit(\"SET_NAME\", name);\n          commit(\"SET_AVATAR\", avatar);\n          commit(\"SET_TASK_LIST\", task_list);\n          commit(\"SET_ANNOTATE_TEXT_LIST\", annotate_img_list);\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n\n  // 用户注销\n  logout({commit, state}) {\n    return new Promise((resolve, reject) => {\n      logoutApi(state.token)\n        .then(() => {\n          commit(\"SET_TOKEN\", \"\");\n          commit(\"SET_ROLES\", []);\n          commit(\"SET_AVATAR\", \"\");\n          removeToken();\n          resetRouter();\n\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n\n  // 删除令牌\n  resetToken({commit}) {\n    return new Promise((resolve) => {\n      commit(\"SET_TOKEN\", \"\");\n      commit(\"SET_ROLES\", []);\n      removeToken();\n      resolve();\n    });\n  },\n  // 设置头像\n  setAvatar({commit}, avatar) {\n    commit(\"SET_AVATAR\", avatar);\n  },\n  // 设置用户名\n  setName({commit}, name) {\n    commit(\"SET_NAME\", name);\n  },\n  setAnnotateTextList({commit}, textList) {\n    commit(\"SET_ANNOTATE_TEXT_LIST\", textList);\n  },\n  setTaskList({commit}, taskList) {\n    commit(\"SET_TASK_LIST\", taskList);\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n};\n"]}]}