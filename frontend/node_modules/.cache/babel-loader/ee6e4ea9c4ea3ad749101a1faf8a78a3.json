{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\BS\\annotate-system-3\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\BS\\annotate-system-3\\frontend\\src\\store\\modules\\annotate.js","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\store\\modules\\annotate.js","mtime":1640330748041},{"path":"F:\\BS\\annotate-system-3\\frontend\\babel.config.js","mtime":1639627257111},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1639628021347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLyDnlKjmiLfmoIfms6jorr7nva4KaW1wb3J0IHsgcmVnaXN0ZXJBcGkgfSBmcm9tICJAL2FwaS91c2VyIjsKaW1wb3J0IHsgc2V0VG9rZW4gfSBmcm9tICJAL3V0aWxzL2F1dGgiOwppbXBvcnQgeyBWaWRlbzJJbWdzQXBpIH0gZnJvbSAiQC9hcGkvYW5ub3RhdGVUZXh0IjsKdmFyIHN0YXRlID0gewogIGxhYmVsczogWy8vIOagh+etvuS/oeaBrwogIF0sCiAgLy8g5a2Y5YKo5bey5qCH5rOo55qE6K+N6K+tCiAgZW50aXR5QW5ub3RhdGVEYXRhOiBbW10sIFtdLCBbXSwgW10sIFtdLCBbXV0sCiAgLy8g5paH5pysaWQKICBlc3NheUlkOiAwLAogIC8vIOaMiemSrmlk77yM55So5LqO5p+l5om+77yM5re75Yqg5Yig6Zmk5LqL5Lu2CiAgaWQ6IDEsCiAgLy8g5b2T5YmN5paH5pys5YaF5a65CiAgYW5ub3RhdGVUZXh0OiAiXHU4RkQ4XHU2Q0ExXHU2NzA5XHU4QkJFXHU3RjZFXHU2ODA3XHU2Q0U4XHU2NTg3XHU2NzJDXHU1NEU2Igp9Owp2YXIgbXV0YXRpb25zID0gewogIC8qKgogICAqICDlsIbmoIfms6jmlofmnKzmt7vliqDliJfooajvvIzlubbkuIrkvKDoh7PlkI7lj7AKICAgKiBAcGFyYW0gIHN0YXRlCiAgICogQHBhcmFtICBpbmZvIOWvueixoe+8jOWtmGlk5ZKM5paH5pysCiAgICovCiAgQUREX1RPX0xJU1Q6IGZ1bmN0aW9uIEFERF9UT19MSVNUKHN0YXRlLCBpbmZvKSB7CiAgICB2YXIgZW50aXR5QW5ub3RhdGVEYXRhID0gaW5mby5lbnRpdHlBbm5vdGF0ZURhdGE7CiAgICB2YXIgaW5kZXggPSBwYXJzZUludChpbmZvLmlkLnNwbGl0KCItIilbMF0pOwogICAgc3RhdGUuZW50aXR5QW5ub3RhdGVEYXRhW2luZGV4XS5wdXNoKGVudGl0eUFubm90YXRlRGF0YSk7CiAgfSwKCiAgLyoqCiAgICogIOWIoOmZpGxpc3TkuK3nmoTmoIfms6jorrDlvZUKICAgKiBAcGFyYW0gIHN0YXRlCiAgICogQHBhcmFtICBpbmZvIOWvueixoe+8jOWtmOWCqOmcgOimgeWIoOmZpOW3suagh+azqOaWh+acrOeahGlk77yM5paH5pysCiAgICovCiAgREVMRVRFX0RBVEFfRlJPTV9MSVNUOiBmdW5jdGlvbiBERUxFVEVfREFUQV9GUk9NX0xJU1Qoc3RhdGUsIGluZm8pIHsKICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGluZm8udHlwZS5zcGxpdCgiLSIpWzBdKTsKCiAgICBmb3IgKHZhciBpID0gc3RhdGUuZW50aXR5QW5ub3RhdGVEYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgIGlmIChzdGF0ZS5lbnRpdHlBbm5vdGF0ZURhdGFbaW5kZXhdW2ldICYmIHN0YXRlLmVudGl0eUFubm90YXRlRGF0YVtpbmRleF1baV0uaWQgPT09IGluZm8udHlwZS5zcGxpdCgiLSIpWzFdKSB7CiAgICAgICAgc3RhdGUuZW50aXR5QW5ub3RhdGVEYXRhW2luZGV4XS5zcGxpY2UoaSwgMSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9LAoKICAvKioKICAgKiAg6K6+572u5qCH5rOo5qCH562+CiAgICogQHBhcmFtIHsqfSBzdGF0ZQogICAqLwogIFNFVF9MQUJFTFM6IGZ1bmN0aW9uIFNFVF9MQUJFTFMoc3RhdGUsIGRhdGEpIHsKICAgIHN0YXRlLmxhYmVscyA9IGRhdGE7CiAgICBzdGF0ZS5lbnRpdHlBbm5vdGF0ZURhdGEgPSBbXTsKICAgIHZhciBsZW5ndGggPSBzdGF0ZS5sYWJlbHMubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgc3RhdGUuZW50aXR5QW5ub3RhdGVEYXRhLnB1c2goW10pOwogICAgfQogIH0sCgogIC8qKgogICAqICDorr7nva7moIfms6jmlofmnKwKICAgKi8KICBTRVRfQU5OT1RBVEVfVEVYVDogZnVuY3Rpb24gU0VUX0FOTk9UQVRFX1RFWFQoc3RhdGUsIHRleHQpIHsKICAgIHN0YXRlLmFubm90YXRlVGV4dCA9IHRleHQudHJpbSgpOyAvLyBUT0RPIOi/memHjOimgeS4jeimgXRyaW0oKeWRou+8nwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgYWRkVG9MaXN0OiBmdW5jdGlvbiBhZGRUb0xpc3QoX3JlZiwgaW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgY29tbWl0KCJBRERfVE9fTElTVCIsIGluZm8pOwogIH0sCiAgZGVsZXRlRGF0YUZyb21MaXN0OiBmdW5jdGlvbiBkZWxldGVEYXRhRnJvbUxpc3QoX3JlZjIsIGluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICBjb21taXQoIkRFTEVURV9EQVRBX0ZST01fTElTVCIsIGluZm8pOwogIH0sCiAgc2V0TGFiZWxzOiBmdW5jdGlvbiBzZXRMYWJlbHMoX3JlZjMsIGRhdGEpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQoIlNFVF9MQUJFTFMiLCBkYXRhKTsKICB9LAogIHNldFRleHRUaXRsZTogZnVuY3Rpb24gc2V0VGV4dFRpdGxlKF9yZWY0LCB0aXRsZSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIGNvbW1pdCgiU0VUX1RFWFRfVElUTEUiLCB0aXRsZSk7CiAgfSwKICBzZXRBbm5vdGF0ZVRleHQ6IGZ1bmN0aW9uIHNldEFubm90YXRlVGV4dChfcmVmNSwgdGV4dCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIGNvbW1pdCgiU0VUX0FOTk9UQVRFX1RFWFQiLCB0ZXh0KTsKICB9LAogIHNldFZpZGVvSW1nczogZnVuY3Rpb24gc2V0VmlkZW9JbWdzKF9yZWY2LCBpbWdTcmNzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgVmlkZW8ySW1nc0FwaSh7CiAgICAgICAgaW1nc3JjczogaW1nU3JjcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGNvbW1pdCgiIikKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["F:/BS/annotate-system-3/frontend/src/store/modules/annotate.js"],"names":["registerApi","setToken","Video2ImgsApi","state","labels","entityAnnotateData","essayId","id","annotateText","mutations","ADD_TO_LIST","info","index","parseInt","split","push","DELETE_DATA_FROM_LIST","type","i","length","splice","SET_LABELS","data","SET_ANNOTATE_TEXT","text","trim","actions","addToList","commit","deleteDataFromList","setLabels","setTextTitle","title","setAnnotateText","setVideoImgs","imgSrcs","Promise","resolve","reject","imgsrcs","then","response","catch","error","namespaced"],"mappings":"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","sourcesContent":["// 用户标注设置\nimport {registerApi} from \"@/api/user\";\nimport {setToken} from \"@/utils/auth\";\nimport {Video2ImgsApi} from \"@/api/annotateText\";\n\nconst state = {\n  labels: [\n    // 标签信息\n  ],\n  // 存储已标注的词语\n  entityAnnotateData: [[], [], [], [], [], []],\n  // 文本id\n  essayId: 0,\n  // 按钮id，用于查找，添加删除事件\n  id: 1,\n  // 当前文本内容\n  annotateText: `还没有设置标注文本哦`,\n};\n\nconst mutations = {\n  /**\n   *  将标注文本添加列表，并上传至后台\n   * @param  state\n   * @param  info 对象，存id和文本\n   */\n  ADD_TO_LIST: (state, info) => {\n    const entityAnnotateData = info.entityAnnotateData;\n    const index = parseInt(info.id.split(\"-\")[0]);\n    state.entityAnnotateData[index].push(entityAnnotateData);\n  },\n  /**\n   *  删除list中的标注记录\n   * @param  state\n   * @param  info 对象，存储需要删除已标注文本的id，文本\n   */\n  DELETE_DATA_FROM_LIST: (state, info) => {\n    const index = parseInt(info.type.split(\"-\")[0]);\n    for (let i = state.entityAnnotateData.length - 1; i >= 0; i--) {\n      if (\n        state.entityAnnotateData[index][i] &&\n        state.entityAnnotateData[index][i].id === info.type.split(\"-\")[1]\n      ) {\n        state.entityAnnotateData[index].splice(i, 1);\n        break;\n      }\n    }\n  },\n  /**\n   *  设置标注标签\n   * @param {*} state\n   */\n  SET_LABELS: (state, data) => {\n    state.labels = data;\n    state.entityAnnotateData = [];\n    const length = state.labels.length;\n    for (let i = 0; i < length; i++) {\n      state.entityAnnotateData.push([]);\n    }\n  },\n\n  /**\n   *  设置标注文本\n   */\n  SET_ANNOTATE_TEXT: (state, text) => {\n    state.annotateText = text.trim(); // TODO 这里要不要trim()呢？\n  },\n};\n\nconst actions = {\n  addToList({commit}, info) {\n    commit(\"ADD_TO_LIST\", info);\n  },\n  deleteDataFromList({commit}, info) {\n    commit(\"DELETE_DATA_FROM_LIST\", info);\n  },\n  setLabels({commit}, data) {\n    commit(\"SET_LABELS\", data);\n  },\n\n  setTextTitle({commit}, title) {\n    commit(\"SET_TEXT_TITLE\", title);\n  },\n  setAnnotateText({commit}, text) {\n    commit(\"SET_ANNOTATE_TEXT\", text);\n  },\n\n  setVideoImgs({commit}, imgSrcs) {\n    return new Promise((resolve, reject) => {\n      Video2ImgsApi({imgsrcs: imgSrcs})\n        .then((response) => {\n          // commit(\"\")\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n\n  },\n\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n};\n"]}]}