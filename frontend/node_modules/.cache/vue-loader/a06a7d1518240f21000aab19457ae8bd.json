{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\Account.vue","mtime":1639627257318},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB1c2VySW5mb1VwZGF0ZUFwaSB9IGZyb20gIkAvYXBpL3VzZXIiOw0KaW1wb3J0IHsgc2V0VG9rZW4gfSBmcm9tICJAL3V0aWxzL2F1dGgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHVzZXI6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgfTsNCiAgICAgIH0sDQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIOabtOaWsOeUqOaIt+S/oeaBrw0KICAgICAqLw0KICAgIHN1Ym1pdCgpIHsNCiAgICAgIGlmICh0aGlzLnVzZXIubmFtZSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3kuI3og73kuLrnqboiKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHVzZXJJbmZvVXBkYXRlQXBpKHRoaXMudXNlcikudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgc2V0VG9rZW4ocmVzLmRhdGEudG9rZW4pOw0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NldE5hbWUiLCB0aGlzLnVzZXIubmFtZSk7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAi55So5oi35L+h5oGv5pu05paw5oiQ5YqfIiwNCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMCwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\r\n  <el-form>\r\n    <el-form-item label=\"Name\">\r\n      <el-input v-model.trim=\"user.name\" />\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" @click=\"submit\">\r\n        更新\r\n      </el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { userInfoUpdateApi } from \"@/api/user\";\r\nimport { setToken } from \"@/utils/auth\";\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          name: \"\",\r\n        };\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n     * 更新用户信息\r\n     */\r\n    submit() {\r\n      if (this.user.name == \"\") {\r\n        this.$message.error(\"用户名不能为空\");\r\n      } else {\r\n        userInfoUpdateApi(this.user).then((res) => {\r\n          setToken(res.data.token);\r\n          this.$store.dispatch(\"user/setName\", this.user.name);\r\n          this.$message({\r\n            message: \"用户信息更新成功\",\r\n            type: \"success\",\r\n            duration: 5 * 1000,\r\n          });\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}