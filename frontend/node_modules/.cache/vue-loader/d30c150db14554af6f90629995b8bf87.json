{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\annotateContent\\AnnotateContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\entityAnnotate\\components\\annotateContent\\AnnotateContent.vue","mtime":1640335112641},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIaW50cyBmcm9tICcuL2NvbXBvbmVudHMvSGludHMnCgppbXBvcnQgUXMgZnJvbSAicXMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBBSU1hcmtlciB9IGZyb20gJ3Z1ZS1waWN0dXJlLWJkLW1hcmtlcicKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZpZGVvTWFyaycsCiAgY29tcG9uZW50czogeyd1aS1tYXJrZXInOiBBSU1hcmtlciwgSGludHN9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyksCiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICByZWdpb246ICcnLAogICAgICAgIHJhZGlvOiAn5YWo6YOoJwogICAgICB9LAogICAgICBkYXRhTGlzdDogWwogICAgICAgIHsgbmFtZTogJ+WuieWFqOW4vScsIGNvZGU6IDEgfSwKICAgICAgICB7IG5hbWU6ICfngavnhLAnLCBjb2RlOiAyIH0KICAgICAgXSwKCiAgICAgIHV1aWQ6ICcwZGE5MTMwJywKICAgICAgLy8g5b2T5YmN5Zu+54mH55qE5L+h5oGv77yM5YyF5ZCr5Zu+54mH5Y6f5pys55qE6auY55+u6IOW55im5bC65a+4CiAgICAgIGN1cnJlbnRJbmZvOiB7CiAgICAgICAgY3VycmVudEJhc2VJbWFnZToKICAgICAgICAgICcnLAogICAgICAgIHJhd1c6IDAsCiAgICAgICAgcmF3SDogMCwKICAgICAgICBjdXJyZW50VzogMCwKICAgICAgICBjdXJyZW50SDogMCwKICAgICAgICBjaGVja2VkOiBmYWxzZSwgLy8gZmFsc2XooajnpLrlvZPliY3lm77niYfov5jmsqHmnInmoIforrDov4cKICAgICAgICBkYXRhOiBbXSAvLyDooajnpLrlm77niYfnn6nlvaLmoIforrDkv6Hmga8KICAgICAgfSwKICAgICAgaW1nbGlzdDogW10sCgogICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICBwaWNzOiBbCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDA0MS8zMzY1LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDA0MS8zMzY1LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDA5OC8xMDE1LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDA5OC8xMDE1LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDA1MC81MDI3LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgY3JvcEltYWdlOiAnaHR0cHM6Ly9zZW9waWMuNjk5cGljLmNvbS9waG90by81MDE0MC82MjA3LmpwZ193aDEyMDAuanBnJwogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgYWN0aXZlOiAwLCAvLyDlvZPliY3lm77niYfluo/lj7cKICAgICAgcGljVG90YWw6IDEwLCAvLyDnhafniYfmgLvmlbAKCiAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICB0YWdzOiBbCiAgICAgICAgewogICAgICAgICAgdGFnTmFtZTogJ2JlZScsCiAgICAgICAgICB0YWc6ICcweDAwMDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0YWdOYW1lOiAnY2FyJywKICAgICAgICAgIHRhZzogJzB4MDAwMicKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGFsbEluZm86IFtdLCAvLyDlm77niYfnmoTnn6nlvaLmoIforrDkv6Hmga/pm4blkIgKICAgICAgaW1hZ2VJbmZvOiBbXSwgLy8g5a2Y5YKo5Zu+54mH5Y6f5aeL5L+h5oGvCgogICAgICBpbm5lclZpc2libGU6IGZhbHNlLAogICAgICBpbm5lckZvcm06IHsKICAgICAgICB0YWdOYW1lOiAnJywKICAgICAgICB0YWc6ICcnCiAgICAgIH0sCgogICAgICB0ZXBfcnVsZXM6IHsKICAgICAgICB0YWdOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICB0YWc6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWlJywgdHJpZ2dlcjogJ2JsdXInIH1dCiAgICAgIH0sCiAgICAgIC8vCiAgICAgIC8vIExhYmVsczogewogICAgICAvLyAgIGZpbGVuYW1lOiAnJywKICAgICAgLy8gICBoZWlnaHQ6IDAsCiAgICAgIC8vICAgd2lkdGg6IDAsCiAgICAgIC8vICAgeG1pbjogW10sCiAgICAgIC8vICAgeG1heDogW10sCiAgICAgIC8vICAgeW1pbjogW10sCiAgICAgIC8vICAgeW1heDogW10sCiAgICAgIC8vICAgdGFnOiBbXQogICAgICAvLyB9CiAgICB9CiAgfSwKICBjcmVhdGUoKXsKICAgIC8vIHRoaXMudXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKQogICAgLy8gbGV0IHBhcm0gPSBRcy5zdHJpbmdpZnkoeyd1c2VybmFtZSc6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpfSkKICAgIC8vIGdldEltZ0xpc3QocGFybSkudGhlbihyZXMgPT4gewogICAgLy8KICAgIC8vIH0pCiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gbGV0IHBhcm0gPSBRcy5zdHJpbmdpZnkoewogICAgLy8gICAndXNlcm5hbWUnOiB0aGlzLnVzZXJuYW1lLAogICAgLy8gICAvLyAndXNlcl9uYW1lJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJuYW1lIiksCiAgICAvLyB9KQogICAgLy8gY29uc29sZS5sb2coJ21vdW50ZWQnKQogICAgLy8gY29uc29sZS5sb2cocGFybSkKICAgIC8vIGdldEltZ0xpc3QocGFybSkudGhlbihyZXMgPT4gewogICAgLy8gICBjb25zb2xlLmxvZyhyZXMuZGF0YS5jb2RlKQogICAgLy8gICB0aGlzLmltZ2xpc3QgPSByZXMuZGF0YS5kYXRhCiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuaW1nbGlzdCkKICAgIC8vCiAgICAvLyB9KQoKICAgIGNvbnNvbGUubG9nKCdtb3VudGVkJykKICAgICAgbGV0IHBhcm0gPSBRcy5zdHJpbmdpZnkoewogICAgICAgICd1c2VybmFtZSc6IHRoaXMudXNlcm5hbWUsCiAgICAgIH0pCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvZ2V0SW1nbGlzdCcsIHBhcm0pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgdGhpcy5pbWdsaXN0ID0gcmVzcC5kYXRhLmRhdGEKICAgICAgfSkKCiAgICBjb25zb2xlLmxvZyh0aGlzLnBpY3MpCgogICAgLy8gdGhpcy5vbkltYWdlTG9hZCgpCgogIH0sCiAgbWV0aG9kczogewogICAgLyoq6K6w5b2V5Zu+54mH5b2T5YmN55qE5aSn5bCP5ZKM5Y6f5aeL5aSn5bCPIGRhdGE9e3Jhd1cscmF3SCxjdXJyZW50VyxjdXJyZW50SH0gKi8KICAgIG9uSW1hZ2VMb2FkKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ2RhdGEnKQogICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICB0aGlzLmltYWdlSW5mbyA9IGRhdGEKICAgIH0sCgogICAgc2V0VGFnKHYpIHsKICAgICAgdGhpcy4kcmVmc1snYWlQYW5lbC1lZGl0b3InXS5nZXRNYXJrZXIoKS5zZXRUYWcodikKICAgIH0sCiAgICBhZGRUYWcoKSB7CiAgICAgIHRoaXMuaW5uZXJWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLmlubmVyRm9ybS50YWdOYW1lID0gJycKICAgICAgdGhpcy5pbm5lckZvcm0udGFnID0gJycKICAgIH0sCiAgICBkZWxUYWcoaW5kZXgpIHsKICAgICAgdGhpcy50YWdzLnNwbGljZShpbmRleCwgMSkKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5pbm5lclZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLiRyZWZzWydpbm5lckZvcm0nXS5yZXNldEZpZWxkcygpCiAgICB9LAogICAgYmVmb3JlQ2xvc2UoZG9uZSkgewogICAgICB0aGlzLiRyZWZzWydpbm5lckZvcm0nXS5yZXNldEZpZWxkcygpCiAgICAgIGRvbmUoKQogICAgfSwKICAgIGdldEltZygpewogICAgICBsZXQgcGFybSA9IFFzLnN0cmluZ2lmeSh7CiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy51c2VybmFtZSwKICAgICAgfSkKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9nZXRJbWdsaXN0JywgcGFybSkudGhlbihyZXNwID0+IHt9KQogICAgfSwKCiAgICBjcmVhdGVGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMudGFncykgewogICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMudGFnc1tpbmRleF0KICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGl0ZW0udGFnTmFtZSA9PT0gdGhpcy5pbm5lckZvcm0udGFnTmFtZSB8fAogICAgICAgICAgICAgIGl0ZW0udGFnID09PSB0aGlzLmlubmVyRm9ybS50YWcKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmoIfnrb7lkI3miJbmoIfnrb7lgLzlt7LlrZjlnKjvvIzor7fph43mlrDovpPlhaUnKQogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRhZ3MucHVzaCh7CiAgICAgICAgICAgIHRhZ05hbWU6IHRoaXMuaW5uZXJGb3JtLnRhZ05hbWUsCiAgICAgICAgICAgIHRhZzogdGhpcy5pbm5lckZvcm0udGFnCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5pbm5lclZpc2libGUgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIOWujOaIkOagh+iusO+8jOaPkOS6pOagh+iusOmbhuWQiAogICAgICovCiAgICBzdWJtaXRGb3JtKCkgewogICAgICBsZXQgTGFiZWxzID0gewogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgeG1pbjogW10sCiAgICAgICAgeG1heDogW10sCiAgICAgICAgeW1pbjogW10sCiAgICAgICAgeW1heDogW10sCiAgICAgICAgdGFnOiBbXQogICAgICB9CgogICAgICBsZXQgZGF0YSA9IHRoaXMuJHJlZnNbJ2FpUGFuZWwtZWRpdG9yJ10uZ2V0TWFya2VyKCkuZ2V0RGF0YSgpCgogICAgICAvLyB2YXIgZWxlbWVudCA9IFFzLnN0cmluZ2lmeSh7ICd1c2VybmFtZSc6IHRoaXMubG9naW5Gb3JtLnVzZXJuYW1lLCAncGFzc3dvcmQnOiB0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCB9KQoKICAgICAgdGhpcy5hbGxJbmZvID0gZGF0YQogICAgICBjb25zb2xlLmxvZyh0aGlzLmFsbEluZm8pCgogICAgICBjb25zb2xlLmxvZyh0aGlzLmFsbEluZm8ubGVuZ3RoLCAn5Liq5pWwJykKCiAgICAgIGxldCBzaXplID0gewogICAgICAgIHdpZHRoOiB0aGlzLmltYWdlSW5mby5yYXdXLAogICAgICAgIGhlaWdodDogdGhpcy5pbWFnZUluZm8ucmF3SAogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHNpemUpCgogICAgICBMYWJlbHMud2lkdGggPSBzaXplLndpZHRoCiAgICAgIExhYmVscy5oZWlnaHQgPSBzaXplLmhlaWdodAoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbEluZm8ubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zb2xlLmxvZyhpKQogICAgICAgIGxldCB4bWluID0KICAgICAgICAgICgocGFyc2VJbnQodGhpcy5hbGxJbmZvW2ldLnBvc2l0aW9uLngKICAgICAgICAgICAgLnN1YnN0cmluZygwLCB0aGlzLmFsbEluZm9baV0ucG9zaXRpb24ueC5sZW5ndGggLSAxKSkgKiBzaXplLndpZHRoKSAvIDEwMCkKICAgICAgICAgICAgLnRvRml4ZWQoMCkudG9TdHJpbmcoKQogICAgICAgIGNvbnNvbGUubG9nKHhtaW4sICflt6bkuIonKQogICAgICAgIGxldCB5bWluID0KICAgICAgICAgICgocGFyc2VJbnQodGhpcy5hbGxJbmZvW2ldLnBvc2l0aW9uLnkKICAgICAgICAgICAgLnN1YnN0cmluZygwLCB0aGlzLmFsbEluZm9baV0ucG9zaXRpb24ueS5sZW5ndGggLSAxKSkgKiBzaXplLmhlaWdodCkgLyAxMDApCiAgICAgICAgICAgIC50b0ZpeGVkKDApLnRvU3RyaW5nKCkKICAgICAgICBjb25zb2xlLmxvZyh5bWluLCAn5Y+z5omL5LiKJykKICAgICAgICBsZXQgeG1heCA9CiAgICAgICAgICAoKHBhcnNlSW50KHRoaXMuYWxsSW5mb1tpXS5wb3NpdGlvbi54MQogICAgICAgICAgICAuc3Vic3RyaW5nKDAsIHRoaXMuYWxsSW5mb1tpXS5wb3NpdGlvbi54MS5sZW5ndGggLSAxKSkgKiBzaXplLndpZHRoKSAvIDEwMCkKICAgICAgICAgICAgLnRvRml4ZWQoMCkudG9TdHJpbmcoKQogICAgICAgIGNvbnNvbGUubG9nKHhtYXgsICflj7PkuIonKQogICAgICAgIGxldCB5bWF4ID0KICAgICAgICAgICgocGFyc2VJbnQodGhpcy5hbGxJbmZvW2ldLnBvc2l0aW9uLnkxCiAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgdGhpcy5hbGxJbmZvW2ldLnBvc2l0aW9uLnkxLmxlbmd0aCAtIDEpKSAqIHNpemUuaGVpZ2h0KSAvIDEwMCkKICAgICAgICAgICAgLnRvRml4ZWQoMCkudG9TdHJpbmcoKQogICAgICAgIGNvbnNvbGUubG9nKHltYXgsICflt6bkuIonKQoKICAgICAgICBsZXQgdGFnID0gdGhpcy5hbGxJbmZvW2ldLnRhZ05hbWUKICAgICAgICBjb25zb2xlLmxvZyh0YWcpCgogICAgICAgIExhYmVscy54bWluLnB1c2goeG1pbikKICAgICAgICBMYWJlbHMueG1heC5wdXNoKHhtYXgpCiAgICAgICAgTGFiZWxzLnltaW4ucHVzaCh5bWluKQogICAgICAgIExhYmVscy55bWF4LnB1c2goeW1heCkKICAgICAgICBMYWJlbHMudGFnLnB1c2godGFnKQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKExhYmVscykKICAgICAgdmFyIHBhcm0gPSBRcy5zdHJpbmdpZnkoewogICAgICAgICdmaWxlbmFtZSc6IExhYmVscy5maWxlbmFtZSwKICAgICAgICAnd2lkdGgnOiBMYWJlbHMud2lkdGgsCiAgICAgICAgJ2hlaWdodCc6IExhYmVscy5oZWlnaHQsCiAgICAgICAgJ3htaW4nOiBMYWJlbHMueG1pbiwKICAgICAgICAneW1pbic6IExhYmVscy55bWluLAogICAgICAgICd4bWF4JzogTGFiZWxzLnhtYXgsCiAgICAgICAgJ3ltYXgnOiBMYWJlbHMueW1heCwKICAgICAgICAndGFncyc6IExhYmVscy50YWcKICAgICAgfSwge2luZGljZXM6IGZhbHNlfSkKCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvbGFiZWwnLCBwYXJtKS50aGVuKHJlcyA9PiB7CgogICAgICB9KQoKCiAgICAgIC8vIGF4aW9zLnB1dCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9sYWJlbCcsIHBhcm0pLnRoZW4ocmVzID0+IHsKICAgICAgLy8KICAgICAgLy8gfSkKCiAgICB9LAoKICAgIC8vIOeCueWHu+W3puWPs+aMiemSruaYvuekuuabtOWkmgogICAgc2hvd01vcmUodikgewogICAgICBsZXQgZWwgPSB0aGlzLiRyZWZzLnBpY0NvbnRhaW5lcgogICAgICBsZXQgcGVyY2VudCA9ICh0aGlzLmFjdGl2ZSAvIHRoaXMucGljcy5sZW5ndGgpICogMTAwCiAgICAgIGlmICh2ID09ICd1cCcpIHsKICAgICAgICB0aGlzLmFjdGl2ZSsrCiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID49IHRoaXMucGljVG90YWwgLSAzKSB7CiAgICAgICAgICAvLyDmnIDlkI405byg5Zu+CiAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHRoaXMucGljcy5sZW5ndGggLSAzCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5waWNzLmxlbmd0aCAtIDMgPT0gdGhpcy5hY3RpdmUgJiYKICAgICAgICAgIHRoaXMucGljcy5sZW5ndGggPCB0aGlzLnBpY1RvdGFsCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLnBob3RvUGFnZUluZGV4KysKICAgICAgICAgIHRoaXMuZ2V0UGhvdG9zKCkKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZS0tCiAgICAgICAgaWYgKHRoaXMuYWN0aXZlIDwgMCkgdGhpcy5hY3RpdmUgPSAwCiAgICAgIH0KICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0KICAgICAgICAndHJhbnNsYXRlWCgtJyArICh0aGlzLmFjdGl2ZSAvIHRoaXMucGljcy5sZW5ndGgpICogMTAwICsgJyUpJwogICAgfSwKCiAgICBnZXRQaG90b3MoKSB7CiAgICAgIHJldHVybiB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgbGV0IGVsID0gdGhpcy4kcmVmcy5waWNDb250YWluZXIKICAgICAgICBpZiAoZWwpIHsKICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gZWwuc2Nyb2xsV2lkdGggKyAncHgnCgogICAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0KICAgICAgICAgICAgJ3RyYW5zbGF0ZVgoLScgKyAodGhpcy5hY3RpdmUgLyB0aGlzLnBpY3MubGVuZ3RoKSAqIDEwMCArICclKScKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoq5b6X5Yiw5b2T5YmN54K55Ye75Zu+54mHKi8KICAgIGFjdGl2ZVBpYyh2KSB7CiAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmUnKQogICAgICB0aGlzLmN1cnJlbnRJbmZvLmN1cnJlbnRCYXNlSW1hZ2UgPSB2CiAgICAgIGxldCBpbSA9IG5ldyBJbWFnZTsKICAgICAgaW0uc3JjID0gdgogICAgICB0aGlzLmltYWdlSW5mbyA9IHtyYXdXOiBpbS53aWR0aCwgcmF3SDogaW0uaGVpZ2h0fQogICAgfSwKCiAgICBoYW5kbGVDaGFuZ2UobGFiZWwpIHsKICAgICAgY29uc29sZS5sb2cobGFiZWwpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AnnotateContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AnnotateContent.vue","sourceRoot":"src/views/entityAnnotate/components/annotateContent","sourcesContent":["<template>\n  <div class=\"video-mark-wrapper\">\n    <Hints>\n      <template slot=\"hintName\">图片标注</template>\n      <template slot=\"hintInfo\">\n        <p>标注图片并导出数据</p>\n      </template>\n    </Hints>\n\n      <div>\n    <el-form :model=\"formInline\">\n      <el-form-item label=\"数据集：\">\n        <el-select v-model=\"formInline.region\" placeholder=\"选择数据集\">\n          <el-option\n            :label=\"item.name\"\n            :value=\"item.code\"\n            v-for=\"item in dataList\"\n          ></el-option>\n        </el-select>\n        <el-button type=\"primary\" style=\"margin-left: 20px\" @click=\"getImg()\">选择</el-button>\n      </el-form-item>\n\n      <el-form-item label=\"图片筛选：\">\n        <el-radio-group v-model=\"formInline.radio\" @change=\"handleChange\">\n          <el-radio-button label=\"全部\"></el-radio-button>\n          <el-radio-button label=\"未标注\"></el-radio-button>\n          <el-radio-button label=\"已标注\"></el-radio-button>\n        </el-radio-group>\n      </el-form-item>\n      <!-- <el-form-item>\n        <el-button type=\"primary\">选择</el-button>\n      </el-form-item> -->\n    </el-form>\n\n    <!-- 图片导航 -->\n    <div class=\"pics\">\n      <div class=\"arrow arrow-left\" @click=\"showMore('down')\"></div>\n      <div class=\"pic-container\">\n        <div class=\"pic-box\" ref=\"picContainer\">\n          <div class = 'pic' v-for = \"(v, i) in imglist\">\n            <img :src = \"'data:img/jpg;base64,' + v\"\n            @click=\"activePic('data:img/jpg;base64,' + v)\">\n          </div>\n\n<!--          <div class=\"pic\" v-for=\"(v, i) in pics\" :key=\"i\">-->\n<!--            <div-->\n<!--              class=\"info\"-->\n<!--              :style=\"{ 'background-image': 'data:img/jpg;base64,' + v.cropImage }\"-->\n<!--              @click=\"activePic(v.cropImage)\"-->\n<!--            ></div>-->\n<!--          </div>-->\n        </div>\n      </div>\n      <div class=\"arrow arrow-right\" @click=\"showMore('up')\"></div>\n    </div>\n\n    <el-row :gutter=\"10\" class=\"tagList\">\n      <el-col :span=\"18\">\n        <ui-marker\n          ref=\"aiPanel-editor\"\n          class=\"ai-observer\"\n          :uniqueKey=\"uuid\"\n          :ratio=\"16 / 9\"\n          :imgUrl=\"currentInfo.currentBaseImage\"\n          @vmarker:onImageLoad=\"onImageLoad\"\n        ></ui-marker>\n      </el-col>\n      <el-col :span=\"6\">\n        <div class=\"title\">标签</div>\n        <div class=\"tags\" v-for=\"(v, i) in tags\" :key=\"i\">\n          <el-tag size=\"small\" @click=\"setTag(v)\">\n            {{ v.tagName }}\n          </el-tag>\n          <i class=\"el-icon-delete\" @click=\"delTag(i)\"></i>\n        </div>\n        <el-row>\n          <el-button type=\"success\" class=\"handleButton\" @click=\"addTag\">\n            添加标签\n          </el-button>\n        </el-row>\n        <el-button type=\"primary\" class=\"handleButton\" @click=\"submitForm\">\n          提交标注\n        </el-button>\n      </el-col>\n    </el-row>\n\n    <!-- 添加标签 dialog -->\n    <el-dialog\n      width=\"30%\"\n      title=\"添加标签\"\n      :visible.sync=\"innerVisible\"\n      :before-close=\"beforeClose\"\n    >\n      <el-form ref=\"innerForm\" :model=\"innerForm\" :rules=\"tep_rules\">\n        <el-form-item label=\"标签名称：\" prop=\"tagName\">\n          <el-input v-model=\"innerForm.tagName\" />\n        </el-form-item>\n        <el-form-item label=\"标签编码：\" prop=\"tag\">\n          <el-input v-model=\"innerForm.tag\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"close\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"createForm('innerForm')\">\n          确 定\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n  </div>\n</template>\n\n<script>\nimport Hints from './components/Hints'\n\nimport Qs from \"qs\";\nimport axios from \"axios\";\nimport { AIMarker } from 'vue-picture-bd-marker'\n\n\nexport default {\n  name: 'VideoMark',\n  components: {'ui-marker': AIMarker, Hints},\n  data() {\n    return {\n      username: localStorage.getItem('username'),\n      formInline: {\n        region: '',\n        radio: '全部'\n      },\n      dataList: [\n        { name: '安全帽', code: 1 },\n        { name: '火焰', code: 2 }\n      ],\n\n      uuid: '0da9130',\n      // 当前图片的信息，包含图片原本的高矮胖瘦尺寸\n      currentInfo: {\n        currentBaseImage:\n          '',\n        rawW: 0,\n        rawH: 0,\n        currentW: 0,\n        currentH: 0,\n        checked: false, // false表示当前图片还没有标记过\n        data: [] // 表示图片矩形标记信息\n      },\n      imglist: [],\n\n      // *****************************\n      pics: [\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50041/3365.jpg_wh1200.jpg'\n        // },\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50041/3365.jpg_wh1200.jpg'\n        // },\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50098/1015.jpg_wh1200.jpg'\n        // },\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50098/1015.jpg_wh1200.jpg'\n        // },\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50050/5027.jpg_wh1200.jpg'\n        // },\n        // {\n        //   cropImage: 'https://seopic.699pic.com/photo/50140/6207.jpg_wh1200.jpg'\n        // }\n      ],\n      active: 0, // 当前图片序号\n      picTotal: 10, // 照片总数\n\n      // *********************************************\n      tags: [\n        {\n          tagName: 'bee',\n          tag: '0x0001'\n        },\n        {\n          tagName: 'car',\n          tag: '0x0002'\n        }\n      ],\n      allInfo: [], // 图片的矩形标记信息集合\n      imageInfo: [], // 存储图片原始信息\n\n      innerVisible: false,\n      innerForm: {\n        tagName: '',\n        tag: ''\n      },\n\n      tep_rules: {\n        tagName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        tag: [{ required: true, message: '请输入', trigger: 'blur' }]\n      },\n      //\n      // Labels: {\n      //   filename: '',\n      //   height: 0,\n      //   width: 0,\n      //   xmin: [],\n      //   xmax: [],\n      //   ymin: [],\n      //   ymax: [],\n      //   tag: []\n      // }\n    }\n  },\n  create(){\n    // this.username = localStorage.getItem(\"username\")\n    // let parm = Qs.stringify({'username': localStorage.getItem('username')})\n    // getImgList(parm).then(res => {\n    //\n    // })\n  },\n  mounted() {\n    // let parm = Qs.stringify({\n    //   'username': this.username,\n    //   // 'user_name': localStorage.getItem(\"username\"),\n    // })\n    // console.log('mounted')\n    // console.log(parm)\n    // getImgList(parm).then(res => {\n    //   console.log(res.data.code)\n    //   this.imglist = res.data.data\n    //   console.log(this.imglist)\n    //\n    // })\n\n    console.log('mounted')\n      let parm = Qs.stringify({\n        'username': this.username,\n      })\n      axios.post('http://127.0.0.1:8000/api/getImglist', parm).then(resp => {\n        this.imglist = resp.data.data\n      })\n\n    console.log(this.pics)\n\n    // this.onImageLoad()\n\n  },\n  methods: {\n    /**记录图片当前的大小和原始大小 data={rawW,rawH,currentW,currentH} */\n    onImageLoad(data) {\n      console.log('data')\n      console.log(data)\n      this.imageInfo = data\n    },\n\n    setTag(v) {\n      this.$refs['aiPanel-editor'].getMarker().setTag(v)\n    },\n    addTag() {\n      this.innerVisible = true\n      this.innerForm.tagName = ''\n      this.innerForm.tag = ''\n    },\n    delTag(index) {\n      this.tags.splice(index, 1)\n    },\n    close() {\n      this.innerVisible = false\n      this.$refs['innerForm'].resetFields()\n    },\n    beforeClose(done) {\n      this.$refs['innerForm'].resetFields()\n      done()\n    },\n    getImg(){\n      let parm = Qs.stringify({\n        'username': this.username,\n      })\n      axios.post('http://127.0.0.1:8000/api/getImglist', parm).then(resp => {})\n    },\n\n    createForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          for (let index in this.tags) {\n            let item = this.tags[index]\n            if (\n              item.tagName === this.innerForm.tagName ||\n              item.tag === this.innerForm.tag\n            ) {\n              this.$message.warning('标签名或标签值已存在，请重新输入')\n              return\n            }\n          }\n          this.tags.push({\n            tagName: this.innerForm.tagName,\n            tag: this.innerForm.tag\n          })\n          this.innerVisible = false\n        }\n      })\n    },\n    /**\n     * 完成标记，提交标记集合\n     */\n    submitForm() {\n      let Labels = {\n        filename: '',\n        height: 0,\n        width: 0,\n        xmin: [],\n        xmax: [],\n        ymin: [],\n        ymax: [],\n        tag: []\n      }\n\n      let data = this.$refs['aiPanel-editor'].getMarker().getData()\n\n      // var element = Qs.stringify({ 'username': this.loginForm.username, 'password': this.loginForm.password })\n\n      this.allInfo = data\n      console.log(this.allInfo)\n\n      console.log(this.allInfo.length, '个数')\n\n      let size = {\n        width: this.imageInfo.rawW,\n        height: this.imageInfo.rawH\n      }\n      console.log(size)\n\n      Labels.width = size.width\n      Labels.height = size.height\n\n      for (let i = 0; i < this.allInfo.length; i++) {\n        console.log(i)\n        let xmin =\n          ((parseInt(this.allInfo[i].position.x\n            .substring(0, this.allInfo[i].position.x.length - 1)) * size.width) / 100)\n            .toFixed(0).toString()\n        console.log(xmin, '左上')\n        let ymin =\n          ((parseInt(this.allInfo[i].position.y\n            .substring(0, this.allInfo[i].position.y.length - 1)) * size.height) / 100)\n            .toFixed(0).toString()\n        console.log(ymin, '右手上')\n        let xmax =\n          ((parseInt(this.allInfo[i].position.x1\n            .substring(0, this.allInfo[i].position.x1.length - 1)) * size.width) / 100)\n            .toFixed(0).toString()\n        console.log(xmax, '右上')\n        let ymax =\n          ((parseInt(this.allInfo[i].position.y1\n            .substring(0, this.allInfo[i].position.y1.length - 1)) * size.height) / 100)\n            .toFixed(0).toString()\n        console.log(ymax, '左上')\n\n        let tag = this.allInfo[i].tagName\n        console.log(tag)\n\n        Labels.xmin.push(xmin)\n        Labels.xmax.push(xmax)\n        Labels.ymin.push(ymin)\n        Labels.ymax.push(ymax)\n        Labels.tag.push(tag)\n      }\n      console.log(Labels)\n      var parm = Qs.stringify({\n        'filename': Labels.filename,\n        'width': Labels.width,\n        'height': Labels.height,\n        'xmin': Labels.xmin,\n        'ymin': Labels.ymin,\n        'xmax': Labels.xmax,\n        'ymax': Labels.ymax,\n        'tags': Labels.tag\n      }, {indices: false})\n\n      axios.post('http://127.0.0.1:8000/api/label', parm).then(res => {\n\n      })\n\n\n      // axios.put('http://127.0.0.1:8000/api/label', parm).then(res => {\n      //\n      // })\n\n    },\n\n    // 点击左右按钮显示更多\n    showMore(v) {\n      let el = this.$refs.picContainer\n      let percent = (this.active / this.pics.length) * 100\n      if (v == 'up') {\n        this.active++\n        if (this.active >= this.picTotal - 3) {\n          // 最后4张图\n          this.active = this.pics.length - 3\n          return\n        }\n        if (\n          this.pics.length - 3 == this.active &&\n          this.pics.length < this.picTotal\n        ) {\n          this.photoPageIndex++\n          this.getPhotos()\n          return\n        }\n      } else {\n        this.active--\n        if (this.active < 0) this.active = 0\n      }\n      el.style.transform =\n        'translateX(-' + (this.active / this.pics.length) * 100 + '%)'\n    },\n\n    getPhotos() {\n      return this.$nextTick(() => {\n        let el = this.$refs.picContainer\n        if (el) {\n          el.style.width = el.scrollWidth + 'px'\n\n          el.style.transform =\n            'translateX(-' + (this.active / this.pics.length) * 100 + '%)'\n        }\n      })\n    },\n    /**得到当前点击图片*/\n    activePic(v) {\n      console.log('active')\n      this.currentInfo.currentBaseImage = v\n      let im = new Image;\n      im.src = v\n      this.imageInfo = {rawW: im.width, rawH: im.height}\n    },\n\n    handleChange(label) {\n      console.log(label)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.video-mark-wrapper {\n  .pics {\n    width: 100%;\n    overflow: hidden;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .arrow {\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      //background-image: url('~@/assets/images/common/left.png');\n      background-repeat: no-repeat;\n      background-size: contain;\n\n      &.arrow-right {\n        transform: rotate(180deg);\n      }\n    }\n\n    .pic-container {\n      // width: 1180px;\n      width: calc(100% - 30px);\n      height: 114px;\n      margin: 0 auto;\n      overflow: hidden;\n\n      .pic-box {\n        height: 100%;\n        // min-width: 1180px;\n        min-width: calc(100% - 30px);\n        transition: all 0.5s linear;\n        display: flex;\n        flex-wrap: nowrap;\n      }\n\n      .pic {\n        float: left;\n        border: 1px solid #ccc;\n        box-sizing: border-box;\n        margin-right: 10px;\n        width: 185px;\n        height: 114px;\n\n        .info {\n          width: 183px;\n          height: 100%;\n          background-size: 100%;\n          background-repeat: no-repeat;\n          background-position: center;\n          position: relative;\n\n          &:hover {\n            border: 1px solid skyblue;\n          }\n        }\n      }\n    }\n  }\n\n  .tagList {\n    .title {\n      text-align: center;\n      font-weight: bold;\n    }\n\n    .handleButton {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n\n    .tags {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n\n      .el-icon-delete {\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n"]}]}