{"remainingRequest":"F:\\BS\\annotate-system\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system\\frontend\\src\\views\\errorAnalysis\\fileUpload\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system\\frontend\\src\\views\\errorAnalysis\\fileUpload\\index.vue","mtime":1639627257306},{"path":"F:\\BS\\annotate-system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzVXBsb2FkZWQ6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7DQogICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS5kYXRhKTsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJlcnJvckFuYWx5c2lzL3NldERhdGEiLCBkYXRhKTsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5LiK5Lyg5oiQ5YqfIik7DQogICAgICB0aGlzLmlzVXBsb2FkZWQgPSB0cnVlOw0KICAgIH0sDQogICAgaGFuZGxlRXJyb3IoKSB7DQogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLHotKUiKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/errorAnalysis/fileUpload","sourcesContent":["<template>\r\n  <div class=\"file-upload\">\r\n    <el-upload\r\n      v-show=\"!isUploaded\"\r\n      class=\"upload-demo\"\r\n      drag\r\n      accept=\"text/plain\"\r\n      action=\"http://localhost:8000/api/error_analysis/\"\r\n      name=\"analysis_file\"\r\n      :on-success=\"handleSuccess\"\r\n      :on-error=\"handleError\"\r\n      multiple\r\n    >\r\n      <i class=\"el-icon-upload\"></i>\r\n      <div class=\"el-upload__text\">\r\n        将文件拖到此处，或\r\n        <em>点击上传</em>\r\n      </div>\r\n      <div slot=\"tip\" class=\"el-upload__tip\">\r\n        只能上传txt文件，且不超过500kb\r\n      </div>\r\n    </el-upload>\r\n    <div v-show=\"isUploaded\">\r\n      <div style=\"font-size: 100px; margin-left: 50px;\">\r\n        <SvgIcon icon-class=\"success\" />\r\n      </div>\r\n      <div>文件上传成功了，现在您可以选择</div>\r\n      <router-link to=\"errorAnalysis/text\">\r\n        <el-button type=\"primary\" style=\"margin-right: 20px;\">\r\n          文本分析\r\n        </el-button>\r\n      </router-link>\r\n      <router-link to=\"errorAnalysis/charts\">\r\n        <el-button type=\"primary\">\r\n          图表分析\r\n        </el-button>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      isUploaded: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleSuccess(response) {\r\n      let data = JSON.parse(response.data.data);\r\n      this.$store.dispatch(\"errorAnalysis/setData\", data);\r\n      this.$message.success(\"上传成功\");\r\n      this.isUploaded = true;\r\n    },\r\n    handleError() {\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.file-upload {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 10%;\r\n}\r\n</style>\r\n"]}]}