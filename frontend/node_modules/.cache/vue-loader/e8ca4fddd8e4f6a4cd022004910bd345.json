{"remainingRequest":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\UserCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BS\\annotate-system-3\\frontend\\src\\views\\profile\\components\\UserCard.vue","mtime":1639627257320},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639628024341},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639628022585},{"path":"F:\\BS\\annotate-system-3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639628023030}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gIkAvdXRpbHMvYXV0aCI7DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgdXNlcjogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIG5hbWU6ICIiLA0KICAgICAgICB9Ow0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBwd2RPcHRpb25zOiB7DQogICAgICAgIG9sZFBhc3N3b3JkOiAiIiwNCiAgICAgICAgbmV3UGFzc3dvcmQ6ICIiLA0KICAgICAgICBjaGVja1Bhc3N3b3JkOiAiIiwNCiAgICAgIH0sDQogICAgICBmb3JtTGFiZWxXaWR0aDogIjgwcHgiLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdG9rZW4oKSB7DQogICAgICByZXR1cm4gZ2V0VG9rZW4oKTsNCiAgICB9LA0KICAgIC4uLm1hcEdldHRlcnMoWyJhdmF0YXIiXSksDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlci9zZXRBdmF0YXIiLCByZXNwb25zZS5kYXRhLmF2YXRhcik7DQogICAgfSwNCiAgICBoYW5kbGVFcnJvcigpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWksei0pSIpOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["UserCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserCard.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\r\n  <el-row :gutter=\"20\">\r\n    <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>个人信息</span>\r\n        </div>\r\n        <div>\r\n          <div style=\"text-align: center\">\r\n            <div class=\"el-upload\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                :headers=\"{ 'annotate-system-token': token }\"\r\n                name=\"avatar\"\r\n                action=\"http://localhost:8000/api/setAvatar/\"\r\n                :show-file-list=\"false\"\r\n                accept=\"image/*\"\r\n                :on-success=\"handleSuccess\"\r\n                :on-error=\"handleError\"\r\n              >\r\n                <img :src=\"avatar\" class=\"avatar\" alt=\"\" />\r\n              </el-upload>\r\n            </div>\r\n          </div>\r\n          <ul class=\"user-info\">\r\n            <li>\r\n              <SvgIcon icon-class=\"user\" /> 用户昵称\r\n              <div class=\"user-right\">\r\n                {{ user.name }}\r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <SvgIcon icon-class=\"anq\" /> 安全设置\r\n              <div class=\"user-right\">\r\n                <el-button type=\"text\" @click=\"dialogFormVisible = true\">\r\n                  修改密码\r\n                </el-button>\r\n\r\n                <el-dialog title=\"修改密码\" :visible.sync=\"dialogFormVisible\">\r\n                  <el-form :model=\"pwdOptions\">\r\n                    <el-form-item label=\"旧密码\" :label-width=\"formLabelWidth\">\r\n                      <el-input\r\n                        v-model=\"pwdOptions.oldPassword\"\r\n                        placeholder=\"请输入旧密码\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"新密码\" :label-width=\"formLabelWidth\">\r\n                      <el-input\r\n                        v-model=\"pwdOptions.newPassword\"\r\n                        placeholder=\"请输入新密码\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      label=\"确认密码\"\r\n                      :label-width=\"formLabelWidth\"\r\n                    >\r\n                      <el-input\r\n                        v-model=\"pwdOptions.checkPassword\"\r\n                        placeholder=\"请再次确认\"\r\n                        autocomplete=\"off\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">\r\n                      取 消\r\n                    </el-button>\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      @click=\"dialogFormVisible = false\"\r\n                    >\r\n                      确 定\r\n                    </el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </el-card>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from \"@/utils/auth\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          name: \"\",\r\n        };\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      pwdOptions: {\r\n        oldPassword: \"\",\r\n        newPassword: \"\",\r\n        checkPassword: \"\",\r\n      },\r\n      formLabelWidth: \"80px\",\r\n    };\r\n  },\r\n  computed: {\r\n    token() {\r\n      return getToken();\r\n    },\r\n    ...mapGetters([\"avatar\"]),\r\n  },\r\n  methods: {\r\n    handleSuccess(response) {\r\n      this.$store.dispatch(\"user/setAvatar\", response.data.avatar);\r\n    },\r\n    handleError() {\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box-center {\r\n  margin: 0 auto;\r\n  display: table;\r\n}\r\n\r\n.text-muted {\r\n  color: #777;\r\n}\r\n\r\n.avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.user-info {\r\n  padding-left: 0;\r\n  list-style: none;\r\n\r\n  li {\r\n    border-bottom: 1px solid #f0f3f4;\r\n    padding: 11px 0;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .user-right {\r\n    float: right;\r\n\r\n    .dialog-footer {\r\n      position: relative;\r\n      left: 275px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}