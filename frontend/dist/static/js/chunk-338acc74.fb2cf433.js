(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-338acc74"],{"18a1":function(e,t,a){"use strict";a("5e37")},"5e37":function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.user?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8,xs:24}},[a("UserCard",{attrs:{user:e.user}})],1),a("el-col",{attrs:{span:16,xs:24}},[a("el-card",[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"账号信息",name:"account"}},[a("Account",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1):e._e()])},r=[],c=a("5530"),n=(a("b0c0"),a("2f62")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"el-upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:{"annotate-system-token":e.token},name:"avatar",action:"http://localhost:8000/api/setAvatar/","show-file-list":!1,accept:"image/*","on-success":e.handleSuccess,"on-error":e.handleError}},[a("img",{staticClass:"avatar",attrs:{src:e.avatar,alt:""}})])],1)]),a("ul",{staticClass:"user-info"},[a("li",[a("SvgIcon",{attrs:{"icon-class":"user"}}),e._v(" 用户昵称 "),a("div",{staticClass:"user-right"},[e._v(" "+e._s(e.user.name)+" ")])],1)])])])],1)],1)},i=[],u=a("5f87"),o={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},data:function(){return{formLabelWidth:"80px"}},computed:Object(c["a"])({token:function(){return Object(u["a"])()}},Object(n["b"])(["avatar"])),methods:{handleSuccess:function(e){this.$store.dispatch("user/setAvatar",e.data.avatar)},handleError:function(){this.$message.error("上传失败")}}},m=o,d=(a("18a1"),a("2877")),p=Object(d["a"])(m,l,i,!1,null,"288e46cc",null),f=p.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 更新 ")])],1)],1)},h=[],v=a("c24f"),g={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){var e=this;""==this.user.name?this.$message.error("用户名不能为空"):Object(v["e"])(this.user).then((function(t){Object(u["c"])(t.data.token),e.$store.dispatch("user/setEmail",e.user.email),e.$message({message:"用户信息更新成功",type:"success",duration:5e3})}))}}},j=g,O=Object(d["a"])(j,b,h,!1,null,null,null),x=O.exports,_={name:"Profile",components:{UserCard:f,Account:x},data:function(){return{user:{},activeTab:"account"}},computed:Object(c["a"])(Object(c["a"])({},Object(n["b"])(["email"])),Object(n["b"])(["name"])),created:function(){this.getUser()},methods:{getUser:function(){this.user={name:this.name,email:this.email}}}},k=_,C=Object(d["a"])(k,s,r,!1,null,null,null);t["default"]=C.exports}}]);